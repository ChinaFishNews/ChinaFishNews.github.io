<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>YYKit探究 | 含笑饮砒霜</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="YYKit : 一组功能强大的iOS组件集合，支持iOS6.0及以上。
各组件之间有比较强的依赖关系，但原作者为了方便其他开发者使用，已将其拆分成以下独立组件。


YYModel — 高性能的 iOS JSON 模型框架。

YYCache — 高性能的 iOS 缓存框架。

YYImage — 功能强大的 iOS 图像框架。

YYWebImage — 高性能的 iOS 异步图像加载框架。">
<meta property="og:type" content="article">
<meta property="og:title" content="YYKit探究">
<meta property="og:url" content="http://chinafish.news/2016/05/10/YYKit探究/index.html">
<meta property="og:site_name" content="含笑饮砒霜">
<meta property="og:description" content="YYKit : 一组功能强大的iOS组件集合，支持iOS6.0及以上。
各组件之间有比较强的依赖关系，但原作者为了方便其他开发者使用，已将其拆分成以下独立组件。


YYModel — 高性能的 iOS JSON 模型框架。

YYCache — 高性能的 iOS 缓存框架。

YYImage — 功能强大的 iOS 图像框架。

YYWebImage — 高性能的 iOS 异步图像加载框架。">
<meta property="og:image" content="http://fishnews.cn/2016_05_10_01.png?attname=">
<meta property="og:image" content="http://fishnews.cn/2016_05-10_02.png?attname=">
<meta property="og:image" content="http://fishnews.cn/2016_05_10_03.png?attname=">
<meta property="og:image" content="http://fishnews.cn/2016_05_10_04.png?attname=">
<meta property="og:image" content="http://fishnews.cn/2016_05_10_05.png?attname=">
<meta property="og:image" content="http://fishnews.cn/2016_05_10_06.png?attname=">
<meta property="og:image" content="http://fishnews.cn/2016_05_10_07.png?attname=">
<meta property="og:image" content="http://fishnews.cn/2016_05_10_08.png?attname=">
<meta property="og:image" content="http://fishnews.cn/2016_05_10_09.png?attname=">
<meta property="og:image" content="http://fishnews.cn/2016_05_10_10.png?attname=">
<meta property="og:image" content="http://fishnews.cn/2016_05_10_11.png?attname=">
<meta property="og:image" content="http://fishnews.cn/2016_05_10_12.png?attname=">
<meta property="og:image" content="http://fishnews.cn/2016_05_10_14.png?attname=">
<meta property="og:image" content="http://fishnews.cn/2016_05_10_15.png?attname=">
<meta property="og:image" content="http://fishnews.cn/2016_05_10_16.png?attname=">
<meta property="og:image" content="http://fishnews.cn/2016_05_10_17.png?attname=">
<meta property="og:image" content="http://fishnews.cn/2016_05_10_18.png?attname=">
<meta property="og:image" content="http://fishnews.cn/2016_05_11-02.png?attname=">
<meta property="og:image" content="http://fishnews.cn/2016_05_11-01.png?attname=">
<meta property="og:image" content="http://fishnews.cn/2016_05_11_30.gif?attname=">
<meta property="og:image" content="http://fishnews.cn/2016_05_11_31.gif?attname=">
<meta property="og:image" content="http://fishnews.cn/2016_05_11_32.gif?attname=">
<meta property="og:image" content="http://fishnews.cn/2016-05-11_20.gif?attname=">
<meta property="og:image" content="http://fishnews.cn/2016-05-11_21.gif?attname=">
<meta property="og:image" content="http://fishnews.cn/2016_05_11_40.png?attname=">
<meta property="og:image" content="http://fishnews.cn/2016_05_11_41.png?attname=">
<meta property="og:image" content="http://fishnews.cn/2016_05_11_42.png?attname=">
<meta property="og:image" content="http://fishnews.cn/2016_05_11_43.png?attname=">
<meta property="og:image" content="http://fishnews.cn/2016_05_11_44.png?attname=">
<meta property="og:image" content="http://fishnews.cn/2016_05_11_45.png?attname=">
<meta property="og:image" content="http://fishnews.cn/2016_05_11_46.png?attname=">
<meta property="og:image" content="http://fishnews.cn/2016_05_11_47.png?attname=">
<meta property="og:image" content="http://fishnews.cn/2016_05_11_48.png?attname=">
<meta property="og:image" content="http://fishnews.cn/2016_05_11_49.png?attname=">
<meta property="og:image" content="http://fishnews.cn/2016_05_11_50.png?attname=">
<meta property="og:image" content="http://fishnews.cn/2016_05_11_51.png?attname=">
<meta property="og:image" content="http://fishnews.cn/2016_05_11_55.png?attname=">
<meta property="og:image" content="http://fishnews.cn/2016_05_11_56.png?attname=">
<meta property="og:updated_time" content="2018-12-02T14:40:13.121Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="YYKit探究">
<meta name="twitter:description" content="YYKit : 一组功能强大的iOS组件集合，支持iOS6.0及以上。
各组件之间有比较强的依赖关系，但原作者为了方便其他开发者使用，已将其拆分成以下独立组件。


YYModel — 高性能的 iOS JSON 模型框架。

YYCache — 高性能的 iOS 缓存框架。

YYImage — 功能强大的 iOS 图像框架。

YYWebImage — 高性能的 iOS 异步图像加载框架。">
  
    <link rel="alternative" href="/atom.xml" title="含笑饮砒霜" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">

</head>

<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="http://tp1.sinaimg.cn/2185265952/180/5686790740/1" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">含笑饮砒霜</a></h1>
		</hgroup>

		
		<p class="header-subtitle">如果可以打造非凡应用 为什么要止步于过得去</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						<li>友情链接</li>
						
						
						<li>关于我</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">概览</a></li>
				        
							<li><a href="/categories/进阶">进阶</a></li>
				        
							<li><a href="/categories/OC">OC</a></li>
				        
							<li><a href="/categories/Swift">Swift</a></li>
				        
							<li><a href="/categories/随笔">随笔</a></li>
				        
							<li><a href="/categories/转载">转载</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/ChinaFishNews" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="http://weibo.com/2185265952/profile?topnav=1&wvr=6&is_all=1" title="weibo">weibo</a>
					        
								<a class="twitter" target="_blank" href="https://twitter.com/fishnewsdream" title="twitter">twitter</a>
					        
								<a class="linkedin" target="_blank" href="http://www.linkedin.com/in/新闻-余-ab2b19101?trk=nav_responsive_tab_profile_pic" title="linkedin">linkedin</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/2018/" style="font-size: 10px;">2018</a> <a href="/tags/2019/" style="font-size: 10px;">2019</a> <a href="/tags/2020/" style="font-size: 10px;">2020</a> <a href="/tags/2021/" style="font-size: 10px;">2021</a> <a href="/tags/AVPlayer、MoviePlayer/" style="font-size: 10px;">AVPlayer、MoviePlayer</a> <a href="/tags/Alfred，goshell，iterm2，Oh-My-Zsh，pp助手/" style="font-size: 10px;">Alfred，goshell，iterm2，Oh My Zsh，pp助手</a> <a href="/tags/Asstrill-Shadowsocks-云梯，壁虎漫步-Lattern-Firefly/" style="font-size: 10px;">Asstrill,Shadowsocks,云梯，壁虎漫步,Lattern,Firefly</a> <a href="/tags/Autolayout/" style="font-size: 10px;">Autolayout</a> <a href="/tags/BugHD/" style="font-size: 10px;">BugHD</a> <a href="/tags/Cocoapods/" style="font-size: 10px;">Cocoapods</a> <a href="/tags/Coding-net/" style="font-size: 10px;">Coding.net</a> <a href="/tags/Core-Graphics/" style="font-size: 10px;">Core Graphics</a> <a href="/tags/Core-ML-Siri-AVFoundation/" style="font-size: 10px;">Core ML, Siri, AVFoundation</a> <a href="/tags/Core-ML-Vision-人脸识别/" style="font-size: 10px;">Core ML, Vision,人脸识别</a> <a href="/tags/Cycript/" style="font-size: 10px;">Cycript</a> <a href="/tags/Fabric/" style="font-size: 15px;">Fabric</a> <a href="/tags/Git，GitHub-回滚，仓库/" style="font-size: 10px;">Git，GitHub,回滚，仓库</a> <a href="/tags/LLDB-逆向-安全攻防/" style="font-size: 10px;">LLDB,逆向,安全攻防</a> <a href="/tags/Leaks，Allocations-Time-Profiler/" style="font-size: 10px;">Leaks，Allocations,Time Profiler</a> <a href="/tags/MD5-SHA256-AES-RSA/" style="font-size: 10px;">MD5,SHA256,AES,RSA</a> <a href="/tags/MMPDeepSleepPreventer-后台无限运行/" style="font-size: 10px;">MMPDeepSleepPreventer,后台无限运行</a> <a href="/tags/MarkDown、Mou、Macdown/" style="font-size: 10px;">MarkDown、Mou、Macdown</a> <a href="/tags/NSThread-NSOperation-GCD/" style="font-size: 10px;">NSThread,NSOperation,GCD</a> <a href="/tags/Openfire-Spark/" style="font-size: 10px;">Openfire,Spark</a> <a href="/tags/ReactiveCocoa-block/" style="font-size: 10px;">ReactiveCocoa,block</a> <a href="/tags/Reveal/" style="font-size: 10px;">Reveal</a> <a href="/tags/Ruby，Cycript/" style="font-size: 10px;">Ruby，Cycript</a> <a href="/tags/RunLoop-CFRunLoopRef/" style="font-size: 10px;">RunLoop,CFRunLoopRef</a> <a href="/tags/RunTime/" style="font-size: 10px;">RunTime</a> <a href="/tags/UITableView-ResponderChain/" style="font-size: 10px;">UITableView,ResponderChain</a> <a href="/tags/Vision-文字检测，VNDetectTextRectanglesRequest/" style="font-size: 10px;">Vision,文字检测，VNDetectTextRectanglesRequest</a> <a href="/tags/Vision-目标跟踪，VNDetectedObjectObservation-VNSequenceRequestHandler/" style="font-size: 10px;">Vision,目标跟踪，VNDetectedObjectObservation,VNSequenceRequestHandler</a> <a href="/tags/YYKit/" style="font-size: 10px;">YYKit</a> <a href="/tags/class-dump-MachO/" style="font-size: 10px;">class-dump,MachO</a> <a href="/tags/coremlTools-scikitLearn-Python-Anaconda/" style="font-size: 15px;">coremlTools,scikitLearn,Python,Anaconda</a> <a href="/tags/人工智能，机器学习，CoreML-Vision/" style="font-size: 10px;">人工智能，机器学习，CoreML, Vision</a> <a href="/tags/免证书，免数据线/" style="font-size: 10px;">免证书，免数据线</a> <a href="/tags/动态注入/" style="font-size: 10px;">动态注入</a> <a href="/tags/奇巧淫技/" style="font-size: 10px;">奇巧淫技</a> <a href="/tags/奇技淫巧/" style="font-size: 10px;">奇技淫巧</a> <a href="/tags/拖延症/" style="font-size: 10px;">拖延症</a> <a href="/tags/支付宝SDK/" style="font-size: 10px;">支付宝SDK</a> <a href="/tags/机器学习，人工智能，CoreML-Vision-ARKit/" style="font-size: 10px;">机器学习，人工智能，CoreML, Vision, ARKit</a> <a href="/tags/求婚视频/" style="font-size: 10px;">求婚视频</a> <a href="/tags/汇编，寄存器/" style="font-size: 15px;">汇编，寄存器</a> <a href="/tags/沙画请柬/" style="font-size: 10px;">沙画请柬</a> <a href="/tags/环信SDK/" style="font-size: 10px;">环信SDK</a> <a href="/tags/装逼，特技/" style="font-size: 10px;">装逼，特技</a> <a href="/tags/证书，Application-Loader/" style="font-size: 10px;">证书，Application Loader</a> <a href="/tags/转载/" style="font-size: 20px;">转载</a> <a href="/tags/逆向-安全攻防/" style="font-size: 10px;">逆向,安全攻防</a> <a href="/tags/逆向工程/" style="font-size: 10px;">逆向工程</a> <a href="/tags/随笔/" style="font-size: 10px;">随笔</a>
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://blog.devtang.com">唐巧的博客</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.superqq.com">刚刚在线</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://jj59.com">九九文章网</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.cocoachina.com">CocoaChina</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://blog.csdn.net/yiyaaixuexi/">念茜的博客</a>
			        
			        </div>
				</section>
				

				
				
				<section class="switch-part switch-part4">
				
					<div id="js-aboutme">14级毕业生,专注于iOS开发。创建Objective-C、Swift技术开发交流群201556264,欢迎加入，共同提高!</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">含笑饮砒霜</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
			
				<img lazy-src="http://tp1.sinaimg.cn/2185265952/180/5686790740/1" class="js-avatar">
			
			</div>
			<hgroup>
			  <h1 class="header-author">含笑饮砒霜</h1>
			</hgroup>
			
			<p class="header-subtitle">如果可以打造非凡应用 为什么要止步于过得去</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">概览</a></li>
		        
					<li><a href="/categories/进阶">进阶</a></li>
		        
					<li><a href="/categories/OC">OC</a></li>
		        
					<li><a href="/categories/Swift">Swift</a></li>
		        
					<li><a href="/categories/随笔">随笔</a></li>
		        
					<li><a href="/categories/转载">转载</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/ChinaFishNews" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://weibo.com/2185265952/profile?topnav=1&wvr=6&is_all=1" title="weibo">weibo</a>
			        
						<a class="twitter" target="_blank" href="https://twitter.com/fishnewsdream" title="twitter">twitter</a>
			        
						<a class="linkedin" target="_blank" href="http://www.linkedin.com/in/新闻-余-ab2b19101?trk=nav_responsive_tab_profile_pic" title="linkedin">linkedin</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap"><article id="post-YYKit探究" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/05/10/YYKit探究/" class="article-date">
  	<time datetime="2016-05-09T16:00:00.000Z" itemprop="datePublished">2016-05-10</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      YYKit探究
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/YYKit/">YYKit</a></li></ul>
	</div>

        
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/OC/">OC</a>
	</div>


        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <video width="498" height="510 " src="http://fishnews.cn/2016_04_14.mp4 " poster=" " controls="controls"><br><br></video>

<p><br></p>
<p><a href="https://github.com/ibireme/YYKit.git" target="_blank" rel="external">YYKit</a> : 一组功能强大的iOS组件集合，支持iOS6.0及以上。</p>
<p>各组件之间有比较强的依赖关系，但原作者为了方便其他开发者使用，已将其拆分成以下独立组件。</p>
<blockquote>
<ul>
<li><p><a href="https://github.com/ibireme/YYModel" target="_blank" rel="external">YYModel</a> — 高性能的 iOS JSON 模型框架。</p>
</li>
<li><p><a href="https://github.com/ibireme/YYCache" target="_blank" rel="external">YYCache</a> — 高性能的 iOS 缓存框架。</p>
</li>
<li><p><a href="https://github.com/ibireme/YYImage" target="_blank" rel="external">YYImage</a> — 功能强大的 iOS 图像框架。</p>
</li>
<li><p><a href="https://github.com/ibireme/YYWebImage" target="_blank" rel="external">YYWebImage</a> — 高性能的 iOS 异步图像加载框架。</p>
</li>
<li><p><a href="https://github.com/ibireme/YYText" target="_blank" rel="external">YYText</a> — 功能强大的 iOS 富文本框架。</p>
</li>
<li><p><a href="https://github.com/ibireme/YYKeyboardManager" target="_blank" rel="external">YYKeyboardManager</a> — iOS 键盘监听管理工具</p>
</li>
<li><p><a href="https://github.com/ibireme/YYDispatchQueuePool" target="_blank" rel="external">YYDispatchQueuePool</a> — iOS 全局并发队列管理工具</p>
</li>
<li><p><a href="https://github.com/ibireme/YYAsyncLayer" target="_blank" rel="external">YYAsyncLayer</a> — iOS 异步绘制与显示的工具</p>
</li>
<li><p><a href="https://github.com/ibireme/YYCategories" target="_blank" rel="external">YYCategories</a> — 功能丰富的 Category 类型工具库</p>
</li>
</ul>
</blockquote>
<h4 id="u96C6_u6210_u53EF_u4F7F_u7528Cocoapods_u6216Carthage_u6216_u624B_u52A8_u5B89_u88C5"><a href="#u96C6_u6210_u53EF_u4F7F_u7528Cocoapods_u6216Carthage_u6216_u624B_u52A8_u5B89_u88C5" class="headerlink" title="集成可使用Cocoapods或Carthage或手动安装"></a>集成可使用Cocoapods或Carthage或手动安装</h4><h6 id="CocoaPods"><a href="#CocoaPods" class="headerlink" title="CocoaPods"></a>CocoaPods</h6><blockquote>
<ol>
<li>在 Podfile 中添加 pod ‘YYKit’</li>
<li>执行 pod install 或 pod update</li>
<li>导入<code>&lt;YYKit/YYKit.h&gt;</code></li>
</ol>
</blockquote>
<h6 id="Carthage"><a href="#Carthage" class="headerlink" title="Carthage"></a>Carthage</h6><blockquote>
<ol>
<li>在 Cartfile 中添加 github “ibireme/YYKit”</li>
<li>执行 carthage update –platform ios 并将生成的 framework 添加到你的工程</li>
<li>导入 <code>&lt;YYKit/YYKit.h&gt;</code></li>
<li>注意: carthage framework 并没有包含 webp 组件。如果你需要支持 webp，可以用 CocoaPods 安装，或者手动安装</li>
</ol>
</blockquote>
<h6 id="u624B_u52A8_u5B89_u88C5"><a href="#u624B_u52A8_u5B89_u88C5" class="headerlink" title="手动安装"></a>手动安装</h6><blockquote>
<ol>
<li>下载 YYKit 文件夹内的所有内容</li>
<li>将 YYKit 内的源文件添加(拖放)到你的工程</li>
<li>为 NSObject+YYAddForARC.m 和 NSThread+YYAdd.m 添加编译参数 -fno-objc-arc</li>
<li>链接以下 frameworks:<ul>
<li>UIKit</li>
<li>CoreFoundation</li>
<li>CoreText</li>
<li>CoreGraphics</li>
<li>CoreImage</li>
<li>QuartzCore</li>
<li>ImageIO</li>
<li>AssetsLibrary</li>
<li>Accelerate</li>
<li>MobileCoreServices</li>
<li>SystemConfiguration</li>
<li>sqlite3</li>
<li>libz</li>
</ul>
</li>
<li>如果你需要支持 WebP，可以将 Vendor/WebP.framework(静态库) 加入你的工程</li>
<li>导入 <code>YYModel.h</code></li>
</ol>
</blockquote>
<p>提到的<code>WebP</code>是<code>Google</code>新推出的影像技术，它可让网页 图档有效进行压缩，同时又不影响图片格式、兼容与实际清晰度，进而让整体网页下载速度加快。与<code>JPEG</code>相同，<code>WebP</code>是一种“有损压缩“，利用”预测编码“技术。但谷歌表示，这种格式的主要优势在于高效率。他们发现，“在质量相同的情况下，<code>WebP</code>格式图像的体积要比<code>JPEG</code>格式图像小40%。</p>
<p>更详细的使用文档可到<a href="http://cocoadocs.org/docsets/YYKit/1.0.5/" target="_blank" rel="external">CocoaDocs</a>查看</p>
<p><a href="http://blog.ibireme.com/2015/11/12/smooth_user_interfaces_for_ios/" target="_blank" rel="external">iOS 保持界面流畅的技巧</a></p>
<p>这是作者使用YYKit提供的项目中的使用技巧。</p>
<h4 id="u6CE8_u610F_uFF1A_u539F_u4F5C_u8005_u5E76_u4E0D_u5EFA_u8BAE_u76F4_u63A5_u4F7F_u7528YYKit_u8FD9_u4E2A_u5E93_2C_u800C_u662F_u6839_u636E_u9700_u6C42_u5355_u72EC_u4F7F_u7528_u8FD9_u4E9B_u7EC4_u4EF6"><a href="#u6CE8_u610F_uFF1A_u539F_u4F5C_u8005_u5E76_u4E0D_u5EFA_u8BAE_u76F4_u63A5_u4F7F_u7528YYKit_u8FD9_u4E2A_u5E93_2C_u800C_u662F_u6839_u636E_u9700_u6C42_u5355_u72EC_u4F7F_u7528_u8FD9_u4E9B_u7EC4_u4EF6" class="headerlink" title="注意：原作者并不建议直接使用YYKit这个库,而是根据需求单独使用这些组件"></a>注意：原作者并不建议直接使用<code>YYKit</code>这个库,而是根据需求单独使用这些组件</h4><h4 id="u63A5_u4E0B_u6765_u5206_u522B_u63A2_u7A76_u4E0B_u5404_u4E2A_u7EC4_u4EF6"><a href="#u63A5_u4E0B_u6765_u5206_u522B_u63A2_u7A76_u4E0B_u5404_u4E2A_u7EC4_u4EF6" class="headerlink" title="接下来分别探究下各个组件"></a>接下来分别探究下各个组件</h4><h2 id="YYModel"><a href="#YYModel" class="headerlink" title="YYModel"></a>YYModel</h2><h4 id="u5B89_u88C5"><a href="#u5B89_u88C5" class="headerlink" title="安装"></a>安装</h4><h6 id="CocoaPods-1"><a href="#CocoaPods-1" class="headerlink" title="CocoaPods"></a>CocoaPods</h6><blockquote>
<ol>
<li>在 <code>Podfile</code> 中添加 <code>pod &#39;YYModel&#39;</code></li>
<li>执行 <code>pod install</code> 或 <code>pod update</code></li>
<li>导入<code>&lt;YYModel/YYModel.h&gt;</code></li>
</ol>
</blockquote>
<h6 id="Carthage-1"><a href="#Carthage-1" class="headerlink" title="Carthage"></a>Carthage</h6><blockquote>
<ol>
<li>在 <code>Cartfile</code> 中添加 <code>github &quot;ibireme/YYModel&quot;</code></li>
<li>执行 <code>carthage update --platform ios</code> 并将生成的 <code>framework</code> 添加到你的工程</li>
<li>导入<code>&lt;YYModel/YYModel.h&gt;</code></li>
</ol>
</blockquote>
<h6 id="u624B_u52A8_u5B89_u88C5-1"><a href="#u624B_u52A8_u5B89_u88C5-1" class="headerlink" title="手动安装"></a>手动安装</h6><blockquote>
<ol>
<li>下载 YYModel 文件夹内的所有内容</li>
<li>将 YYModel 内的源文件添加(拖放)到你的工程</li>
<li>导入 YYModel.h</li>
</ol>
</blockquote>
<h4 id="u5B9E_u73B0_u539F_u7406"><a href="#u5B9E_u73B0_u539F_u7406" class="headerlink" title="实现原理"></a>实现原理</h4><p>使用OC运行时函数将模型类进行解析，包括所有的属性、方法、实例变量等，然后将模型按照名字进行索引调用相应的set方法，模型类通常是固定的，并不用对每次转换的类进行解析，利用缓存机制，每个模型类只用解析一次，固性能会很高。</p>
<p>提供的演示Demo地址: <a href="https://github.com/ibireme/YYModel" target="_blank" rel="external">https://github.com/ibireme/YYModel</a></p>
<p>使用了六种模型转换方法来对比各自的性能。分别是</p>
<ul>
<li>手动转换、</li>
<li>YYModel、</li>
<li>FastEasyMapping、</li>
<li>JSONModel、</li>
<li>Mantle、</li>
<li>MJExtension.</li>
</ul>
<p>除了手动转换外其余均使用了第三方的开源库，我个人之前常用的是手动转换和<code>MJExtension</code></p>
<p>手动转换一般是这样</p>
<p><img src="http://fishnews.cn/2016_05_10_01.png?attname=" alt=""><br><img src="http://fishnews.cn/2016_05-10_02.png?attname=" alt=""><br><img src="http://fishnews.cn/2016_05_10_03.png?attname=" alt=""></p>
<p>也就是对象之间的映射手动完成。上图也列举了系统的这个方法<code>setValuesForKeysWithDictionary</code>,这个方法用起来也还不错，不需要一一的来给对象赋值而直接从字典初始化即可，但用的不好会经常崩溃。</p>
<p>举个例子</p>
<p>创建<code>PersonInfoModel</code></p>
<p><code>@interface PersonInfoModel : NSObject</code></p>
<p><code>@property (nonatomic, copy) NSString  *name;</code></p>
<p><code>@property (nonatomic, copy) NSString  *age;</code></p>
<p><code>@property (nonatomic, strong) NSString *address;</code></p>
<p><code>@end</code></p>
<p><code>PersonInfoModel *personInfoModel = [[PersonInfoModel alloc]init];
[personInfoModel setValuesForKeysWithDictionary:dic];</code></p>
<p><img src="http://fishnews.cn/2016_05_10_04.png?attname=" alt=""></p>
<p>这是比较标准的使用方法，使用时完全没问题。如果我在`PersonInfoModel中再加一个属性</p>
<p><img src="http://fishnews.cn/2016_05_10_05.png?attname=" alt=""></p>
<p>这样也没有出错,可以正常使用,也就是说用字典初始化对象时,只要对象中都包含了这些键值,是可以正常初始化的,我们再在字典中添加一个键值对</p>
<p><img src="http://fishnews.cn/2016_05_10_06.png?attname=" alt=""></p>
<p>这样就会直接导致程序崩溃,因为该对象中没有 sex 这个属性,解决方法就是,实现一个方法setValue:forUndefinedKey:，然后实现这个方法，这样就会过滤掉给不存在的键值赋值。</p>
<p><img src="http://fishnews.cn/2016_05_10_07.png?attname=" alt=""></p>
<p>如果有个属性是id,而id本身就是系统自身关键字,不能够当做属性使用，这时可以这么做。</p>
<p><img src="http://fishnews.cn/2016_05_10_08.png?attname=" alt=""></p>
<p><img src="http://fishnews.cn/2016_05_10_09.png?attname=" alt=""></p>
<p><img src="http://fishnews.cn/2016_05_10_10.png?attname=" alt=""></p>
<p>setValue:forUndefinedKey:这个方法是关键,只有存在这个方法后,才可以过滤掉不存在的键值对而防止崩溃。在项目中使用时可以创建一个Model基类，添加这个方法<code>setValue:forUndefinedKey:</code>并实现。之后的Model继承自这个基类Model,这时候如果存在model中没有的键，可以重载父类的setValue:forUndefinedKey方法即可，否则会崩溃。</p>
<p>另外，程序在获取Json数据的时候可能会出现这种数据 <code>&quot;somevalue&quot;: null</code>,也就是没有返回值，通过一些第三方的库可能会解析成这样 <code>somevalue = &quot;&lt;null&gt;&quot;</code>;这种数据不是nil也不是string,如果向这个对象发送消息就会崩溃。</p>
<p>在AFNetworking中有这个方法可以解决，将这个空值去除</p>
<p> <code>AFJSONResponseSerializer *responseSerializer = [[AFJSONResponseSerializer alloc] init];</code></p>
<p> <code>responseSerializer.removesKeysWithNullValues = true;</code></p>
<p>而网上有个<code>Category</code>，叫做<code>NullSafe</code>,下载地址<br><a href="https://github.com/nicklockwood/NullSafe" target="_blank" rel="external">https://github.com/nicklockwood/NullSafe</a></p>
<p>是在运行时操作把空值置为nil，因为nil是安全的，可以向nil对象发送消息不会奔溃，只需将这个category加入项目即可。</p>
<p>作者给出了这几种开源库的比较结果,YYModel的性能仅次于手动转换。<br><img src="http://fishnews.cn/2016_05_10_11.png?attname=" alt=""></p>
<h6 id="YYModel_u7684_u4F18_u52BF"><a href="#YYModel_u7684_u4F18_u52BF" class="headerlink" title="YYModel的优势"></a>YYModel的优势</h6><ul>
<li>高性能: 模型转换性能接近手写解析代码。</li>
<li>自动类型转换: 对象类型可以自动转换，详情见下方表格。</li>
<li>类型安全: 转换过程中，所有的数据类型都会被检测一遍，以保证类型安全，避免崩溃问题。</li>
<li>无侵入性: 模型无需继承自其他基类。</li>
<li>轻量: 该框架只有 5 个文件 (包括.h文件)。</li>
<li>文档和单元测试: 文档覆盖率100%, 代码覆盖率99.6%。</li>
</ul>
<h4 id="u90E8_u5206_u4F7F_u7528_u65B9_u6CD5"><a href="#u90E8_u5206_u4F7F_u7528_u65B9_u6CD5" class="headerlink" title="部分使用方法"></a>部分使用方法</h4><h5 id="u7B80_u5355_u7684_Model__u4E0E_JSON__u76F8_u4E92_u8F6C_u6362"><a href="#u7B80_u5355_u7684_Model__u4E0E_JSON__u76F8_u4E92_u8F6C_u6362" class="headerlink" title="简单的 Model 与 JSON 相互转换"></a>简单的 Model 与 JSON 相互转换</h5><p><code>JSON</code><br><code>{
    &quot;uid&quot;:123456,
    &quot;name&quot;:&quot;Harry&quot;,
    &quot;created&quot;:&quot;1965-07-31T00:00:00+0000&quot;
}</code></p>
<p><code>Model</code></p>
<p><code>@interface User : NSObject</code></p>
<p><code>@property UInt64 uid;</code></p>
<p><code>@property NSString *name;</code></p>
<p><code>@property NSDate *created;</code></p>
<p><code>@end</code></p>
<p>// 将 JSON (NSData,NSString,NSDictionary) 转换为 Model:</p>
<p><code>User *user = [User yy_modelWithJSON:json];</code></p>
<p>// 将 Model 转换为 JSON 对象:</p>
<p><code>NSDictionary *json = [user yy_modelToJSONObject];</code><br>当 JSON/Dictionary 中的对象类型与 Model 属性不一致时，YYModel 将会进行如下自动转换。自动转换不支持的值将会被忽略，以避免各种潜在的崩溃问题。</p>
<p><img src="http://fishnews.cn/2016_05_10_12.png?attname=" alt=""></p>
<h5 id="u5C06_Model__u7684_u5C5E_u6027_u5339_u914D_u5230_u6307_u5B9A_u7684_JSON/NSDictionary__u952E_u503C"><a href="#u5C06_Model__u7684_u5C5E_u6027_u5339_u914D_u5230_u6307_u5B9A_u7684_JSON/NSDictionary__u952E_u503C" class="headerlink" title="将 Model 的属性匹配到指定的 JSON/NSDictionary 键值"></a>将 Model 的属性匹配到指定的 JSON/NSDictionary 键值</h5><p><code>JSON</code>:</p>
<p><code>{
    &quot;n&quot;:&quot;Harry Pottery&quot;,    
    &quot;p&quot;: 256,
    &quot;ext&quot; : {
        &quot;desc&quot; : &quot;A book written by J.K.Rowing.&quot;
    }
}</code></p>
<p><code>Model:</code></p>
<p><code>@interface Book : NSObject</code></p>
<p><code>@property NSString *name;</code></p>
<p><code>@property NSInteger page;</code></p>
<p><code>@property NSString *desc;</code></p>
<p><code>@end</code></p>
<p><code>`@implementation Book</code></p>
<p><code>+ (NSDictionary *)modelCustomPropertyMapper {</code></p>
<p>   <code>return @{@&quot;name&quot; : @&quot;n&quot;,</code></p>
<p>   <code>@&quot;page&quot; : @&quot;p&quot;,</code></p>
<p>   <code>@&quot;desc&quot; : @&quot;ext.desc&quot;};</code></p>
<p><code>}</code></p>
<p><code>@end</code></p>
<p>通过实现 协议中的 modelCustomPropertyMapper，可以将 Model 属性的名字对应到 JSON/NSDictionary 相应的字段。可以把一个或一组 json key (key path) 映射到一个或多个属性。如果一个属性没有映射关系，那默认会使用相同属性名作为映射。</p>
<p>在 json-&gt;model 的过程中：如果一个属性对应了多个 json key，那么转换过程会按顺序查找，并使用第一个不为空的值。</p>
<p>在 model-&gt;json 的过程中：如果一个属性对应了多个 json key (key path)，那么转换过程仅会处理第一个 json key (key path)；如果多个属性对应了同一个 json key，则转换过过程会使用其中任意一个不为空的值。</p>
<h5 id="Model__u5305_u542B_u5176_u4ED6_Model"><a href="#Model__u5305_u542B_u5176_u4ED6_Model" class="headerlink" title="Model 包含其他 Model"></a>Model 包含其他 Model</h5><p><code>JSON</code></p>
<p><code>{</code><br>   <code>&quot;author&quot;:{</code></p>
<pre><code>&quot;name&quot;:&quot;J.K.Rowling&quot;,

&quot;birthday&quot;:&quot;1965-07-31T00:00:00+0000&quot;

},
</code></pre><p>   <code>&quot;name&quot;:&quot;Harry Potter&quot;,</code></p>
<p>   <code>&quot;pages&quot;:256</code></p>
<p><code>}</code></p>
<p><code>Model</code>: 什么都不用做，转换会自动完成</p>
<p><code>@interface Author : NSObject</code></p>
<pre><code>@property NSString *name;
@property NSDate *birthday;
</code></pre><p><code>@end</code></p>
<p><code>@interface Book : NSObject</code></p>
<p> <code>@property NSString *name;</code></p>
<p> <code>@property NSUInteger pages;</code></p>
<p> <code>@property Author *author;</code> //Book 包含 Author 属性</p>
<p><code>@end</code></p>
<h5 id="u6CE8_u610F_uFF0CBook_u4E2D_u7684_u5C5E_u6027author_u5FC5_u987B_u548CJson_u4E32_u4E2D_u952Eauthor_u76F8_u540C_u3002"><a href="#u6CE8_u610F_uFF0CBook_u4E2D_u7684_u5C5E_u6027author_u5FC5_u987B_u548CJson_u4E32_u4E2D_u952Eauthor_u76F8_u540C_u3002" class="headerlink" title="注意，Book中的属性author必须和Json串中键author相同。"></a>注意，Book中的属性<code>author</code>必须和Json串中键<code>author</code>相同。</h5><h4 id="u5BB9_u5668_u7C7B_u5C5E_u6027"><a href="#u5BB9_u5668_u7C7B_u5C5E_u6027" class="headerlink" title="容器类属性"></a>容器类属性</h4><p><code>@class Shadow, Border, Attachment;</code></p>
<p><code>@interface Attributes</code></p>
<p><code>@property NSString *name;</code></p>
<p><code>@property NSArray *shadows; //Array&lt;Shadow&gt;</code></p>
<p><code>@property NSSet *borders; //Set&lt;Border&gt;</code></p>
<p><code>@property NSMutableDictionary *attachments; //Dict&lt;NSString,Attachment&gt;</code></p>
<p><code>@end</code></p>
<p><code>@implementation Attributes</code></p>
<p>// 返回容器类中的所需要存放的数据类型 (以 Class 或 Class Name 的形式)。</p>
<p><code>+ (NSDictionary *)modelContainerPropertyGenericClass {</code></p>
<p>  <code>return @{@&quot;shadows&quot; : [Shadow class],</code></p>
<pre><code>@&quot;borders&quot; : Border.class,

@&quot;attachments&quot; : @&quot;Attachment&quot; };
</code></pre><p><code>}</code></p>
<p><code>@end</code></p>
<p><img src="http://fishnews.cn/2016_05_10_14.png?attname=" alt=""></p>
<p><img src="http://fishnews.cn/2016_05_10_15.png?attname=" alt=""></p>
<p><img src="http://fishnews.cn/2016_05_10_16.png?attname=" alt=""></p>
<h4 id="u9ED1_u540D_u5355_u4E0E_u767D_u540D_u5355"><a href="#u9ED1_u540D_u5355_u4E0E_u767D_u540D_u5355" class="headerlink" title="黑名单与白名单"></a>黑名单与白名单</h4><p><code>@interface User</code></p>
<p><code>@property NSString *name;</code></p>
<p><code>@property NSUInteger age;</code></p>
<p><code>@end</code></p>
<p>@implementation Attributes</p>
<p>// 如果实现了该方法，则处理过程中会忽略该列表内的所有属性</p>
<p><code>+ (NSArray *)modelPropertyBlacklist {</code></p>
<pre><code>return @[@&quot;test1&quot;, @&quot;test2&quot;];
</code></pre><p><code>}</code></p>
<p>// 如果实现了该方法，则处理过程中不会处理该列表外的属性。</p>
<p><code>+ (NSArray *)modelPropertyWhitelist {</code></p>
<pre><code>return @[@&quot;name&quot;];
</code></pre><p><code>}</code><br><code>@end</code></p>
<p>如果同时实现<code>modelPropertyBlacklist</code>方法和<code>modelPropertyWhitelist</code>方法，且忽略和处理属性相同， 则所有属性都不会有值。</p>
<p><img src="http://fishnews.cn/2016_05_10_17.png?attname=" alt=""></p>
<p><img src="http://fishnews.cn/2016_05_10_18.png?attname=" alt=""></p>
<p><a href="http://blog.ibireme.com/2015/10/23/ios_model_framework_benchmark/" target="_blank" rel="external">iOS JSON 模型转换库评测</a>  这篇文章作者对比了几个库的优劣，可以看看</p>
<h2 id="YYCache"><a href="#YYCache" class="headerlink" title="YYCache"></a>YYCache</h2><h4 id="u5B89_u88C5-1"><a href="#u5B89_u88C5-1" class="headerlink" title="安装"></a>安装</h4><h6 id="CocoaPods-2"><a href="#CocoaPods-2" class="headerlink" title="CocoaPods"></a>CocoaPods</h6><blockquote>
<ol>
<li>在 <code>Podfile</code> 中添加 <code>pod &#39;YYCache&#39;</code></li>
<li>执行 <code>pod install</code> 或 <code>pod update</code></li>
<li>导入 <code>&lt;YYCache/YYCache.h&gt;</code></li>
</ol>
</blockquote>
<h6 id="Carthage-2"><a href="#Carthage-2" class="headerlink" title="Carthage"></a>Carthage</h6><blockquote>
<ol>
<li>在 <code>Cartfile</code> 中添加 <code>github &quot;ibireme/YYCache&quot;</code></li>
<li>执行 <code>carthage update --platform ios</code> 并将生成的 <code>framework</code> 添加到你的工程</li>
<li>导入 <code>&lt;YYCache/YYCache.h&gt;</code></li>
</ol>
</blockquote>
<h6 id="u624B_u52A8_u5B89_u88C5-2"><a href="#u624B_u52A8_u5B89_u88C5-2" class="headerlink" title="手动安装"></a>手动安装</h6><blockquote>
<ol>
<li><p>下载 <code>YYCache</code> 文件夹内的所有内容</p>
</li>
<li><p>将 <code>YYCache</code> 内的源文件添加(拖放)到你的工程</p>
</li>
<li><p>链接以下的 <code>frameworks</code>:</p>
</li>
</ol>
<ul>
<li>UIKit</li>
<li>CoreFoundation</li>
<li>QuartzCore</li>
<li>sqlite3</li>
</ul>
<p>4.导入 <code>YYCache.h</code></p>
</blockquote>
<p>提供的演示Demo地址: <a href="https://github.com/ibireme/YYCache" target="_blank" rel="external">https://github.com/ibireme/YYCache</a></p>
<p>通常一个缓存是由内存缓存和磁盘缓存组成，内存缓存提供容量小但高速的存取功能，磁盘缓存提供大容量但低速的持久化存储.</p>
<p>作者比较了三个第三方的开源库<code>YYCache</code>、<code>PINCache</code>、<code>TMCache</code>。内存缓存方面分别比较了</p>
<ul>
<li>NSDictionary</li>
<li>NSDict+Lock</li>
<li>YYMemoryCache</li>
<li>NSCache</li>
<li>PINMemoryCache</li>
<li>TMMemoryCachee</li>
</ul>
<p>得出的性能结果如下</p>
<p><img src="http://fishnews.cn/2016_05_11-02.png?attname=" alt=""></p>
<p>上图TMMemoryCache的测试结果因为性能太差并没有显示出来。</p>
<p>磁盘缓存的实现技术大致分为</p>
<ul>
<li>基于文件读写</li>
<li>基于mmap文件内存映射</li>
<li>基于数据库</li>
</ul>
<p>TMDiskCache, PINDiskCache, SDWebImage 等缓存，都是基于文件系统的，即一个 Value 对应一个文件，通过文件读写来缓存数据。</p>
<p>FastImageCache 采用的是 mmap 将文件映射到内存。</p>
<p>NSURLCache、FBDiskCache 都是基于 SQLite 数据库的。SQLite 写入性能比直接写文件要高，但读取性能取决于数据大小：当单条数据小于 20K 时，数据越小 SQLite 读取性能越高；单条数据大于 20K 时，直接写为文件速度会更快一些。</p>
<p>所以磁盘缓存最好是把 SQLite 和文件存储结合起来：key-value 元数据保存在 SQLite 中，而 value 数据则根据大小不同选择 SQLite 或文件存储。YYDiskCache 就是采用的 SQLite 配合文件的存储方式，参数inlineThreshold,默认20KB,小于它存数据库,大于它存文件。</p>
<p>作者对比了<code>YYDiskCache</code>、<code>PINDiskCache</code>、<code>TMDiskCache</code>三种磁盘存储方式，得出的性能结果如下<br><img src="http://fishnews.cn/2016_05_11-01.png?attname=" alt=""></p>
<p><code>YYCache</code>的优势包括</p>
<ul>
<li>LRU: 缓存支持 LRU (least-recently-used) 淘汰算法。</li>
<li>缓存控制: 支持多种缓存控制方法：总数量、总大小、存活时间、空闲空间。</li>
<li>兼容性: API 基本和 NSCache 保持一致, 所有方法都是线程安全的。</li>
<li>内存缓存<ul>
<li>对象释放控制: 对象的释放(release) 可以配置为同步或异步进行，可以配置在主线程或后台线程进行。</li>
<li>自动清空: 当收到内存警告或 App 进入后台时，缓存可以配置为自动清空。</li>
</ul>
</li>
<li>磁盘缓存<ul>
<li>可定制性: 磁盘缓存支持自定义的归档解档方法，以支持那些没有实现 NSCoding 协议的对象。</li>
<li>存储类型控制: 磁盘缓存支持对每个对象的存储类型 (SQLite/文件) 进行自动或手动控制，以获得更高的存取性能。</li>
</ul>
</li>
</ul>
<h4 id="u90E8_u5206_u65B9_u6CD5_u4F7F_u7528"><a href="#u90E8_u5206_u65B9_u6CD5_u4F7F_u7528" class="headerlink" title="部分方法使用"></a>部分方法使用</h4><p><code>- (BOOL)containsObjectForKey:(NSString *)key;</code></p>
<p>返回一个布尔值,指示是否一个给定的关键是在缓存中。这种方法可能会阻塞调用线程,直到文件读取完成。</p>
<p><br><br><code>- (void)containsObjectForKey:(NSString *)key withBlock:(void ( ^ ) ( NSString *key , BOOL contains ))block</code></p>
<p>返回一个布尔值表示的块是否一个给定的关键字在缓存中。该方法立即返回,调用时在后台通过块队列操作完成。</p>
<p><code>- (instancetype)initWithPath:(NSString *)path</code></p>
<p>根据指定的名称创建一个新的实例。具有相同名称的多个实例将使缓存不稳定。</p>
<p><code>- (void)objectForKey:(NSString *)key withBlock:(void ( ^ ) ( NSString *key , id&lt;NSCoding&gt; object ))block</code></p>
<p>返回给定的键相关联的值。该方法立即返回,调用时在后台通过块队列操作完成。</p>
<p><code>- (void)removeObjectForKey:(NSString *)key withBlock:(void ( ^ ) ( NSString *key ))block</code></p>
<p>在缓存中移除指定键的值。该方法立即返回,调用时在后台通过块队列操作完成。</p>
<p><code>- (void)removeAllObjects</code></p>
<p>清空缓存。这种方法可能会阻塞调用线程,直到文件删除了。</p>
<p><code>- (void)removeAllObjectsWithBlock:(void(^)(void))block;</code><br>清空缓存。该方法立即返回，调用时在后台通过块队列操作完成。</p>
<p><a href="http://blog.ibireme.com/2015/10/26/yycache/" target="_blank" rel="external">YYCache 设计思路与技术细节</a>  这篇文章作者讲述了部分设计思路和实现细节，可以看看</p>
<h2 id="YYImage"><a href="#YYImage" class="headerlink" title="YYImage"></a>YYImage</h2><h4 id="u5B89_u88C5-2"><a href="#u5B89_u88C5-2" class="headerlink" title="安装"></a>安装</h4><h6 id="CocoaPods-3"><a href="#CocoaPods-3" class="headerlink" title="CocoaPods"></a>CocoaPods</h6><blockquote>
<ol>
<li>将 cocoapods 更新至最新版本.</li>
<li>在 Podfile 中添加 pod ‘YYImage’</li>
<li>执行 pod install 或 pod update</li>
<li>导入 <code>&lt;YYImage/YYImage.h&gt;</code></li>
<li>注意：pod 配置并没有包含 WebP 组件, 如果你需要支持 WebP，可以在 Podfile 中添加 pod ‘YYImage/WebP’。你可以调用 YYImageWebPAvailable() 来检查一下 WebP 组件是否被正确安装</li>
</ol>
</blockquote>
<h6 id="Carthage-3"><a href="#Carthage-3" class="headerlink" title="Carthage"></a>Carthage</h6><blockquote>
<ol>
<li>在 Cartfile 中添加 github “ibireme/YYImage”。</li>
<li>执行 carthage update –platform ios 并将生成的 framework 添加到你的工程。</li>
<li>导入 <code>&lt;YYImage/YYImage.h&gt;</code></li>
<li>注意：carthage framework 并没有包含 WebP 组件。如果你需要支持 WebP，可以用 CocoaPods 安装，或者手动安装。</li>
</ol>
</blockquote>
<h6 id="u624B_u52A8_u5B89_u88C5-3"><a href="#u624B_u52A8_u5B89_u88C5-3" class="headerlink" title="手动安装"></a>手动安装</h6><blockquote>
<ol>
<li>下载 YYImage 文件夹内的所有内容</li>
<li>将 YYImage 内的源文件添加(拖放)到你的工程<br>3 . 链接以下 frameworks:</li>
</ol>
<ul>
<li>UIKit</li>
<li>CoreFoundation</li>
<li>QuartzCore</li>
<li>AssetsLibrary</li>
<li>ImageIO</li>
<li>Accelerate</li>
<li>MobileCoreServices</li>
<li>libz</li>
</ul>
<p>4 . 导入 <code>YYImage.h</code></p>
<p> 5 .  注意：如果你需要支持 WebP，可以将 Vendor/WebP.framework(静态库) 加入你的工程。你可以调用 YYImageWebPAvailable() 来检查一下 WebP 组件是否被正确安装</p>
</blockquote>
<p>提供的演示Demo地址: <a href="https://github.com/ibireme/YYImage" target="_blank" rel="external">https://github.com/ibireme/YYImage</a></p>
<h5 id="u7279_u6027_3A"><a href="#u7279_u6027_3A" class="headerlink" title="特性:"></a>特性:</h5><ul>
<li>支持以下类型动画图像的播放/编码/解码:<ul>
<li>WebP, APNG, GIF。</li>
</ul>
</li>
<li>支持以下类型静态图像的显示/编码/解码:<ul>
<li>WebP, PNG, GIF, JPEG, JP2, TIFF, BMP, ICO, ICNS。</li>
</ul>
</li>
<li>支持以下类型图片的渐进式/逐行扫描/隔行扫描解码:<br>  *PNG, GIF, JPEG, BMP。</li>
<li>支持多张图片构成的帧动画播放，支持单张图片的 sprite sheet 动画。</li>
<li>高效的动态内存缓存管理，以保证高性能低内存的动画播放。</li>
<li>完全兼容 UIImage 和 UIImageView，使用方便。</li>
<li>保留可扩展的接口，以支持自定义动画。</li>
<li>每个类和方法都有完善的文档注释。</li>
</ul>
<p>图片本身有 3 种常见的编码方式</p>
<p><img src="http://fishnews.cn/2016_05_11_30.gif?attname=" alt=""><br><img src="http://fishnews.cn/2016_05_11_31.gif?attname=" alt=""><br><img src="http://fishnews.cn/2016_05_11_32.gif?attname=" alt=""></p>
<p>第一种baseline,即逐行扫描。默认情况下JPEG、PNG、GIF 都是这种保存方式</p>
<p>第二种interaced,即隔行扫描。PNG 和 GIF 在保存时可以选择这种格式</p>
<p>第三种是progressive,即渐进式。JPEG 在保存时可以选择这种方式。</p>
<p>在下载图片时，首先用 <code>CGImageSourceCreateIncremental(NULL)</code> 创建一个空的图片源，随后在获得新数据时调用<br><code>CGImageSourceUpdateData(data, false)</code> 来更新图片源，最后在用 <code>CGImageSourceCreateImageAtIndex()</code> 创建图片来显示。</p>
<h4 id="u90E8_u5206_u65B9_u6CD5_u4F7F_u7528-1"><a href="#u90E8_u5206_u65B9_u6CD5_u4F7F_u7528-1" class="headerlink" title="部分方法使用"></a>部分方法使用</h4><h6 id="u663E_u793A_u52A8_u753B_u7C7B_u578B_u7684_u56FE_u7247"><a href="#u663E_u793A_u52A8_u753B_u7C7B_u578B_u7684_u56FE_u7247" class="headerlink" title="显示动画类型的图片"></a>显示动画类型的图片</h6><p><code>UIImage *image = [YYImage imageNamed:@&quot;ani.gif&quot;];</code></p>
<p><code>UIImageView *imageView = [[YYAnimatedImageView alloc]initWithImage:image];</code></p>
<p><code>[self.view addSubView:imageView];</code></p>
<h6 id="u64AD_u653E_u5E27_u52A8_u753B"><a href="#u64AD_u653E_u5E27_u52A8_u753B" class="headerlink" title="播放帧动画"></a>播放帧动画</h6><p><code>NSArray *paths = @[@&quot;/ani/frame1.png&quot;, @&quot;/ani/frame2.png&quot;, @&quot;/ani/frame3.png&quot;];</code></p>
<p><code>NSArray *times = @[@0.1, @0.2, @0.1];</code></p>
<p><code>UIImage *image = [YYFrameImage alloc] initWithImagePaths:paths frameDurations:times repeats:YES];</code></p>
<p><code>UIImageView *imageView = [YYAnimatedImageView alloc]</code>initWithImage:image];</p>
<p><code>[self.view addSubView:imageView];</code></p>
<h6 id="u64AD_u653E_sprite_sheet__u52A8_u753B"><a href="#u64AD_u653E_sprite_sheet__u52A8_u753B" class="headerlink" title="播放 sprite sheet 动画"></a>播放 sprite sheet 动画</h6><p><code>UIImage *spriteSheet = [UIImage imageNamed:@&quot;sprite-sheet&quot;];</code></p>
<p><code>NSMutableArray *contentRects = [NSMutableArray new];</code></p>
<p><code>NSMutableArray *durations = [NSMutableArray new];</code></p>
<p><code>for (int j = 0; j &lt; 12; j++) {</code></p>
<p>   <code>for (int i = 0; i &lt; 8; i++) {</code></p>
<pre><code>CGRect rect;
rect.size = CGSizeMake(img.size.width / 8, img.size.height / 12);
rect.origin.x = img.size.width / 8 * i;
rect.origin.y = img.size.height / 12 * j;
[contentRects addObject:[NSValue valueWithCGRect:rect]];
[durations addObject:@(1 / 60.0)];
</code></pre><p>   <code>}</code><br><code>}</code></p>
<p><code>YYSpriteSheetImage *sprite;</code><br><code>sprite = [[YYSpriteSheetImage alloc] initWithSpriteSheetImage:img
                                                contentRects:contentRects
                                              frameDurations:durations
                                                   loopCount:0];</code></p>
<p><code>YYAnimatedImageView *imageView = [YYAnimatedImageView new];</code></p>
<p><code>imageView.size = CGSizeMake(img.size.width / 8, img.size.height / 12);</code></p>
<p><code>imageView.image = sprite;</code></p>
<p><code>[self.view addSubView:imageView];</code></p>
<h6 id="u52A8_u753B_u64AD_u653E_u63A7_u5236"><a href="#u52A8_u753B_u64AD_u653E_u63A7_u5236" class="headerlink" title="动画播放控制"></a>动画播放控制</h6><p><code>YYAnimatedImageView *imageView = ...;</code></p>
<p>// 暂停:</p>
<p><code>[imageView stopAnimating];</code></p>
<p>// 播放:</p>
<p><code>[imageView startAnimating];</code></p>
<p>// 设置播放进度:</p>
<p><code>imageView.currentAnimatedImageIndex = 12;</code></p>
<p>// 获取播放状态:</p>
<p><code>image.currentIsPlayingAnimation;</code></p>
<h6 id="u56FE_u7247_u89E3_u7801"><a href="#u56FE_u7247_u89E3_u7801" class="headerlink" title="图片解码"></a>图片解码</h6><p>// 解码单帧图片:</p>
<p><code>NSData *data = [NSData dataWithContentOfFile:@&quot;/tmp/image.webp&quot;];</code></p>
<p><code>YYImageDecoder *decoder = [YYImageDecoder decoderWithData:data scale:2.0];</code></p>
<p><code>UIImage image = [decoder frameAtIndex:0 decodeForDisplay:YES].image;</code></p>
<p>// 渐进式图片解码 (可用于图片下载显示):</p>
<p><code>NSMutableData *data = [NSMutableData new];</code></p>
<p><code>YYImageDecoder *decoder = [[YYImageDecoder alloc] initWithScale:2.0];</code></p>
<p><code>while(newDataArrived) {</code></p>
<p>   <code>[data appendData:newData];</code></p>
<p>   <code>[decoder updateData:data final:NO];</code></p>
<p>   <code>if (decoder.frameCount &gt; 0) {</code></p>
<pre><code>`` UIImage image = [decoder frameAtIndex:0 decodeForDisplay:YES].image;``

 // progressive display...
</code></pre><p>  <code>}</code><br><code>}</code></p>
<p><code>[decoder updateData:data final:YES];</code><br><code>UIImage image = [decoder frameAtIndex:0 decodeForDisplay:YES].image;</code></p>
<p><code>// final display...</code></p>
<h6 id="u56FE_u7247_u7F16_u7801"><a href="#u56FE_u7247_u7F16_u7801" class="headerlink" title="图片编码"></a>图片编码</h6><p>// 编码静态图 (支持各种常见图片格式):</p>
<p><code>YYImageEncoder *jpegEncoder = [[YYImageEncoder alloc] initWithType:YYImageTypeJPEG];</code></p>
<p><code>jpegEncoder.quality = 0.9;</code></p>
<p><code>[jpegEncoder addImage:image duration:0];</code></p>
<p><code>NSData jpegData = [jpegEncoder encode];</code></p>
<p>// 编码动态图 (支持 GIF/APNG/WebP):</p>
<p><code>YYImageEncoder *webpEncoder = [[YYImageEncoder alloc] initWithType:YYImageTypeWebP];</code></p>
<p><code>webpEncoder.loopCount = 5;</code></p>
<p><code>[webpEncoder addImage:image0 duration:0.1];</code></p>
<p><code>[webpEncoder addImage:image1 duration:0.15];</code></p>
<p><code>[webpEncoder addImage:image2 duration:0.2];</code></p>
<p><code>NSData webpData = [webpEncoder encode];</code></p>
<h6 id="u56FE_u7247_u7C7B_u578B_u63A2_u6D4B"><a href="#u56FE_u7247_u7C7B_u578B_u63A2_u6D4B" class="headerlink" title="图片类型探测"></a>图片类型探测</h6><p>// 获取图片类型</p>
<p><code>YYImageType type = YYImageDetectType(data);</code></p>
<p><code>if (type == YYImageTypePNG) ...</code></p>
<p>Demo展示效果如下</p>
<p><img src="http://fishnews.cn/2016-05-11_20.gif?attname=" alt=""></p>
<p><img src="http://fishnews.cn/2016-05-11_21.gif?attname=" alt=""></p>
<p><a href="http://blog.ibireme.com/2015/11/02/mobile_image_benchmark/" target="_blank" rel="external">移动端图片格式调研</a></p>
<p><a href="http://blog.ibireme.com/2015/11/02/ios_image_tips/" target="_blank" rel="external">iOS 处理图片的一些小 Tip</a></p>
<p>这两篇文章是作者的相关解读。</p>
<h2 id="YYWebImage"><a href="#YYWebImage" class="headerlink" title="YYWebImage"></a>YYWebImage</h2><h4 id="u5B89_u88C5-3"><a href="#u5B89_u88C5-3" class="headerlink" title="安装"></a>安装</h4><h6 id="CocoaPods-4"><a href="#CocoaPods-4" class="headerlink" title="CocoaPods"></a>CocoaPods</h6><blockquote>
<ol>
<li>将 cocoapods 更新至最新版本</li>
<li>在 Podfile 中添加 pod ‘YYWebImage’</li>
<li>执行 pod install 或 pod update</li>
<li>导入 <code>&lt;YYWebImage/YYWebImage.h&gt;</code></li>
<li>注意：pod 配置并没有包含 WebP 组件, 如果你需要支持 WebP，可以在 Podfile 中添加 pod ‘YYImage/WebP’。你可以调用 YYImageWebPAvailable() 来检查一下 WebP 组件是否被正确安装</li>
</ol>
</blockquote>
<h6 id="Carthage-4"><a href="#Carthage-4" class="headerlink" title="Carthage"></a>Carthage</h6><blockquote>
<ol>
<li>在 Cartfile 中添加 github “ibireme/YYWebImage”</li>
<li>执行 carthage update –platform ios 并将生成的 framework 添加到你的工程。</li>
<li>导入 <code>&lt;YYWebImage/YYWebImage.h&gt;</code></li>
<li>注意: carthage framework 并没有包含 webp 组件。如果你需要支持 WebP，可以用 CocoaPods 安装，或者手动安装</li>
</ol>
</blockquote>
<h6 id="u624B_u52A8_u5B89_u88C5-4"><a href="#u624B_u52A8_u5B89_u88C5-4" class="headerlink" title="手动安装"></a>手动安装</h6><blockquote>
<ol>
<li>下载 YYWebImage 文件夹内的所有内容。</li>
<li>将 YYWebImage 内的源文件添加(拖放)到你的工程。</li>
<li>链接以下 frameworks:<ul>
<li>UIKit</li>
<li>CoreFoundation</li>
<li>QuartzCore</li>
<li>AssetsLibrary</li>
<li>ImageIO</li>
<li>Accelerate</li>
<li>MobileCoreServices</li>
<li>sqlite3</li>
<li>libz</li>
</ul>
</li>
</ol>
<p>4.导入 YYWebImage.h。</p>
<p>5.注意：如果你需要支持 WebP，可以将 Vendor/WebP.framework(静态库) 加入你的工程。你可以调用 YYImageWebPAvailable() 来检查一下 WebP 组件是否被正确安装</p>
</blockquote>
<p>提供的Demo演示地址: <a href="https://github.com/ibireme/YYWebImage" target="_blank" rel="external">https://github.com/ibireme/YYWebImage</a></p>
<p>YYWebImage是一个异步图片加载框架，目的是为了试图替代<code>SDWebImage</code>、<code>PINRemoteImage</code>、<code>FLAnimatedImage</code> 等开源框架。支持这些开源框架的大部分功能，同时增加了大量新特性、并且有不小的性能提升。其底层用 YYCache 实现了内存和磁盘缓存, 用 YYImage 实现了 WebP/APNG/GIF 动图的解码和播放。</p>
<h4 id="u76F8_u5173_u7279_u6027"><a href="#u76F8_u5173_u7279_u6027" class="headerlink" title="相关特性"></a>相关特性</h4><ul>
<li>异步的图片加载，支持 HTTP 和本地文件。</li>
<li>支持 GIF、APNG、WebP 动画（动态缓存，低内存占用）。</li>
<li>支持逐行扫描、隔行扫描、渐进式图像加载。</li>
<li>UIImageView、UIButton、MKAnnotationView、CALayer 的 Category 方法支持。</li>
<li>常见图片处理：模糊、圆角、大小调整、裁切、旋转、色调等。</li>
<li>高性能的内存和磁盘缓存。</li>
<li>高性能的图片设置方式，以避免主线程阻塞。</li>
<li>每个类和方法都有完善的文档注释。</li>
</ul>
<h4 id="u90E8_u5206_u65B9_u6CD5_u4F7F_u7528-2"><a href="#u90E8_u5206_u65B9_u6CD5_u4F7F_u7528-2" class="headerlink" title="部分方法使用"></a>部分方法使用</h4><h6 id="u4ECE_URL__u52A0_u8F7D_u56FE_u7247"><a href="#u4ECE_URL__u52A0_u8F7D_u56FE_u7247" class="headerlink" title="从 URL 加载图片"></a>从 URL 加载图片</h6><p>// 加载网络图片</p>
<p><code>imageView.yy_imageURL = [NSURL URLWithString:@&quot;http://github.com/logo.png&quot;];</code></p>
<p>// 加载本地图片</p>
<p><code>imageView.yy_imageURL = [NSURL fileURLWithPath:@&quot;/tmp/logo.png&quot;];</code></p>
<h6 id="u52A0_u8F7D_u52A8_u56FE"><a href="#u52A0_u8F7D_u52A8_u56FE" class="headerlink" title="加载动图"></a>加载动图</h6><p>// 只需要把 <code>UIImageView</code> 替换为 <code>YYAnimatedImageView</code> 即可。</p>
<p><code>UIImageView *imageView = [YYAnimatedImageView new];</code></p>
<p><code>imageView.yy_imageURL = [NSURL URLWithString:@&quot;http://github.com/ani.webp&quot;];</code></p>
<h4 id="u6E10_u8FDB_u5F0F_u56FE_u7247_u52A0_u8F7D"><a href="#u6E10_u8FDB_u5F0F_u56FE_u7247_u52A0_u8F7D" class="headerlink" title="渐进式图片加载"></a>渐进式图片加载</h4><p>// 渐进式：边下载边显示</p>
<ul>
<li>[imageView yy_setImageWithURL:url options:YYWebImageOptionProgressive];</li>
</ul>
<p>// 渐进式加载，增加模糊效果和渐变动画</p>
<ul>
<li>[imageView yy_setImageWithURL:url options:YYWebImageOptionProgressiveBlur ｜ YYWebImageOptionSetImageWithFadeAnimation];</li>
</ul>
<h4 id="u52A0_u8F7D_u3001_u5904_u7406_u56FE_u7247"><a href="#u52A0_u8F7D_u3001_u5904_u7406_u56FE_u7247" class="headerlink" title="加载、处理图片"></a>加载、处理图片</h4><ul>
<li><ol>
<li>下载图片</li>
</ol>
</li>
<li><ol>
<li>获得图片下载进度</li>
</ol>
</li>
<li><ol>
<li>调整图片大小、加圆角</li>
</ol>
</li>
<li><ol>
<li>显示图片时增加一个淡入动画，以获得更好的用户体验</li>
</ol>
</li>
</ul>
<p><code>[imageView yy_setImageWithURL:url</code></p>
<p><code>placeholder:nil</code></p>
<pre><code>options:YYWebImageOptionSetImageWithFadeAnimation
progress:^(NSInteger receivedSize, NSInteger expectedSize) {
    progress = (float)receivedSize / expectedSize;
}
transform:^UIImage *(UIImage *image, NSURL *url) {
    image = [image yy_imageByResizeToSize:CGSizeMake(100, 100) contentMode:UIViewContentModeCenter];
    return [image yy_imageByRoundCornerRadius:10];
}
completion:^(UIImage *image, NSURL *url, YYWebImageFromType from, YYWebImageStage stage, NSError *error) {
    if (from == YYWebImageFromDiskCache) {
        NSLog(@&quot;load from disk cache&quot;);
    }
}];
</code></pre><h4 id="u56FE_u7247_u7F13_u5B58"><a href="#u56FE_u7247_u7F13_u5B58" class="headerlink" title="图片缓存"></a>图片缓存</h4><p><code>YYImageCache *cache = [YYWebImageManager sharedManager].cache;</code></p>
<p>// 获取缓存大小</p>
<p><code>cache.memoryCache.totalCost;</code></p>
<p><code>cache.memoryCache.totalCount;</code></p>
<p><code>cache.diskCache.totalCost;</code></p>
<p><code>cache.diskCache.totalCount;</code></p>
<p>// 清空缓存</p>
<p><code>[cache.memoryCache removeAllObjects];</code></p>
<p><code>[cache.diskCache removeAllObjects];</code></p>
<p>// 清空磁盘缓存，带进度回调</p>
<p><code>[cache.diskCache removeAllObjectsWithProgressBlock:^(int</code></p>
<p><code>removedCount, int totalCount) {</code></p>
<pre><code>// progress
</code></pre><p><code>} endBlock:^(BOOL error) {</code></p>
<pre><code>// end
</code></pre><p><code>}];</code></p>
<h2 id="YYText"><a href="#YYText" class="headerlink" title="YYText"></a>YYText</h2><h4 id="u5B89_u88C5-4"><a href="#u5B89_u88C5-4" class="headerlink" title="安装"></a>安装</h4><h6 id="CocoaPods-5"><a href="#CocoaPods-5" class="headerlink" title="CocoaPods"></a>CocoaPods</h6><blockquote>
<ol>
<li>在 Podfile 中添加 pod ‘YYText’</li>
<li>执行 pod install 或 pod update</li>
<li>导入 <code>&lt;YYText/YYText.h&gt;</code></li>
</ol>
</blockquote>
<h6 id="Carthage-5"><a href="#Carthage-5" class="headerlink" title="Carthage"></a>Carthage</h6><blockquote>
<ol>
<li>在 Cartfile 中添加 github “ibireme/YYText”</li>
<li>执行 carthage update –platform ios 并将生成的 framework 添加到你的工程</li>
<li>导入 <code>&lt;YYText/YYText.h&gt;</code></li>
</ol>
</blockquote>
<h6 id="u624B_u52A8_u5B89_u88C5-5"><a href="#u624B_u52A8_u5B89_u88C5-5" class="headerlink" title="手动安装"></a>手动安装</h6><blockquote>
<ol>
<li>下载 YYText 文件夹内的所有内容</li>
<li>将 YYText 内的源文件添加(拖放)到你的工程</li>
<li>链接以下 frameworks:<ul>
<li>UIKit</li>
<li>CoreFoundation</li>
<li>CoreText</li>
<li>QuartzCore</li>
<li>Accelerate</li>
<li>MobileCoreServices</li>
</ul>
</li>
<li>导入 YYText.h</li>
</ol>
</blockquote>
<p>提供Demo地址:<a href="https://github.com/ibireme/YYText" target="_blank" rel="external">https://github.com/ibireme/YYText</a></p>
<p>YYText是功能强大的富文本编辑与显示框架</p>
<h4 id="u76F8_u5173_u7279_u6027-1"><a href="#u76F8_u5173_u7279_u6027-1" class="headerlink" title="相关特性"></a>相关特性</h4><ul>
<li>API 兼容 UILabel 和 UITextView</li>
<li>支持高性能的异步排版和渲染</li>
<li>扩展了 CoreText 的属性以支持更多文字效果</li>
<li>支持 UIImage、UIView、CALayer 作为图文混排元素</li>
<li>支持添加自定义样式的、可点击的文本高亮范围</li>
<li>支持自定义文本解析 (内置简单的 Markdown/表情解析)</li>
<li>支持文本容器路径、内部留空路径的控制</li>
<li>支持文字竖排版，可用于编辑和显示中日韩文本</li>
<li>支持图片和富文本的复制粘贴</li>
<li>文本编辑时，支持富文本占位符</li>
<li>支持自定义键盘视图</li>
<li>撤销和重做次数的控制</li>
<li>富文本的序列化与反序列化支持</li>
<li>支持多语言，支持 VoiceOver</li>
<li>支持 Interface Builder</li>
<li>全部代码都有文档注释</li>
</ul>
<h4 id="u5DF2_u77E5_u95EE_u9898"><a href="#u5DF2_u77E5_u95EE_u9898" class="headerlink" title="已知问题"></a>已知问题</h4><ul>
<li>YYText 并不能支持所有 CoreText/TextKit 的属性，比如 NSBackgroundColor、NSStrikethrough、NSUnderline、NSAttachment、NSLink 等，但 YYText 中基本都有对应属性作为替代。</li>
<li>YYTextView 未实现局部刷新，所以在输入和编辑大量的文本（比如超过大概五千个汉字、或大概一万个英文字符）时会出现较明显的卡顿现象。</li>
<li>竖排版时，添加 exclusionPaths 在少数情况下可能会导致文本显示空白。</li>
<li>当添加了非矩形的 textContainerPath，并且有嵌入大于文本排版方向宽度的 RunDelegate 时，RunDelegate 之后的文字会无法显示。这是 CoreText 的 Bug（或者说是 Feature）。</li>
</ul>
<h5 id="u90E8_u5206_u6548_u679C_u56FE"><a href="#u90E8_u5206_u6548_u679C_u56FE" class="headerlink" title="部分效果图"></a>部分效果图</h5><p><img src="http://fishnews.cn/2016_05_11_40.png?attname=" alt=""></p>
<p><img src="http://fishnews.cn/2016_05_11_41.png?attname=" alt=""></p>
<p><img src="http://fishnews.cn/2016_05_11_42.png?attname=" alt=""></p>
<p><img src="http://fishnews.cn/2016_05_11_43.png?attname=" alt=""></p>
<p><img src="http://fishnews.cn/2016_05_11_44.png?attname=" alt=""></p>
<h4 id="u90E8_u5206_u4F7F_u7528_u65B9_u6CD5-1"><a href="#u90E8_u5206_u4F7F_u7528_u65B9_u6CD5-1" class="headerlink" title="部分使用方法"></a>部分使用方法</h4><p><img src="http://fishnews.cn/2016_05_11_45.png?attname=" alt=""></p>
<p><img src="http://fishnews.cn/2016_05_11_46.png?attname=" alt=""></p>
<p><img src="http://fishnews.cn/2016_05_11_47.png?attname=" alt=""></p>
<p><img src="http://fishnews.cn/2016_05_11_48.png?attname=" alt=""></p>
<p><img src="http://fishnews.cn/2016_05_11_49.png?attname=" alt=""></p>
<p><img src="http://fishnews.cn/2016_05_11_50.png?attname=" alt=""></p>
<h2 id="YYKeyboardManager"><a href="#YYKeyboardManager" class="headerlink" title="YYKeyboardManager"></a>YYKeyboardManager</h2><h4 id="u5B89_u88C5-5"><a href="#u5B89_u88C5-5" class="headerlink" title="安装"></a>安装</h4><h6 id="CocoaPods-6"><a href="#CocoaPods-6" class="headerlink" title="CocoaPods"></a>CocoaPods</h6><blockquote>
<ol>
<li>在 Podfile 中添加 pod ‘YYKeyboardManager’</li>
<li>执行 pod install 或 pod update</li>
<li>导入 <code>&lt;YYKeyboardManager/YYKeyboardManager.h&gt;</code></li>
</ol>
</blockquote>
<h6 id="Carthage-6"><a href="#Carthage-6" class="headerlink" title="Carthage"></a>Carthage</h6><blockquote>
<ol>
<li>在 Cartfile 中添加 github “ibireme/YYKeyboardManager”</li>
<li>执行 carthage update –platform ios 并将生成的 framework 添加到你的工程</li>
<li>导入 <code>&lt;YYKeyboardManager/YYKeyboardManager.h&gt;</code></li>
</ol>
</blockquote>
<h6 id="u624B_u52A8_u5B89_u88C5-6"><a href="#u624B_u52A8_u5B89_u88C5-6" class="headerlink" title="手动安装"></a>手动安装</h6><blockquote>
<ol>
<li>下载 YYKeyboardManager 文件夹内的所有内容</li>
<li>将 YYKeyboardManager 内的源文件添加(拖放)到你的工程</li>
<li>导入 YYKeyboardManager.h</li>
</ol>
</blockquote>
<p>提供的Demo地址:<a href="https://github.com/ibireme/YYKeyboardManager" target="_blank" rel="external">https://github.com/ibireme/YYKeyboardManager</a></p>
<p>YYKeyboardManager是一个iOS键盘监听管理工具类。兼容 iPhone / iPad / iPod，兼容 iOS 6 / 7 / 8 / 9， 并且能很好的处理屏幕旋转。我之前一直使用的监听键盘工具主要是TPKeyboardAvoiding、IQKeyboardManager和自己写的一个工具类，大体可以满足需求。</p>
<h4 id="u4F7F_u7528_u65B9_u6CD5"><a href="#u4F7F_u7528_u65B9_u6CD5" class="headerlink" title="使用方法"></a>使用方法</h4><p><img src="http://fishnews.cn/2016_05_11_51.png?attname=" alt=""></p>
<h2 id="YYDispatchQueuePool"><a href="#YYDispatchQueuePool" class="headerlink" title="YYDispatchQueuePool"></a>YYDispatchQueuePool</h2><h6 id="u5B89_u88C5-6"><a href="#u5B89_u88C5-6" class="headerlink" title="安装"></a>安装</h6><h6 id="CocoaPods-7"><a href="#CocoaPods-7" class="headerlink" title="CocoaPods"></a>CocoaPods</h6><blockquote>
<ol>
<li>在 Podfile 中添加 pod ‘YYDispatchQueuePool’</li>
<li>执行 pod install 或 pod update</li>
<li>导入 <code>&lt;YYDispatchQueuePool/YYDispatchQueuePool.h&gt;</code></li>
</ol>
</blockquote>
<h6 id="Carthage-7"><a href="#Carthage-7" class="headerlink" title="Carthage"></a>Carthage</h6><blockquote>
<ol>
<li>在 Cartfile 中添加 github “ibireme/YYDispatchQueuePool”</li>
<li>执行 carthage update –platform ios 并将生成的 framework 添加到你的工程</li>
<li>导入 <code>&lt;YYDispatchQueuePool/YYDispatchQueuePool.h&gt;</code></li>
</ol>
</blockquote>
<h6 id="u624B_u52A8_u5B89_u88C5-7"><a href="#u624B_u52A8_u5B89_u88C5-7" class="headerlink" title="手动安装"></a>手动安装</h6><blockquote>
<ol>
<li>下载 YYDispatchQueuePool 文件夹内的所有内容</li>
<li>将 YYDispatchQueuePool 内的源文件添加(拖放)到你的工程</li>
<li>导入 YYDispatchQueuePool.h</li>
</ol>
</blockquote>
<p>YYDispatchQueuePool是iOS全局并发队列管理工具。</p>
<p>提供的下载地址: <a href="https://github.com/ibireme/YYDispatchQueuePool" target="_blank" rel="external">https://github.com/ibireme/YYDispatchQueuePool</a></p>
<h4 id="u4F7F_u7528_u65B9_u6CD5-1"><a href="#u4F7F_u7528_u65B9_u6CD5-1" class="headerlink" title="使用方法"></a>使用方法</h4><p>// 从全局的 queue pool 中获取一个 queue</p>
<p><code>dispatch_queue_t queue = YYDispatchQueueGetForQOS(NSQualityOfServiceUtility);</code></p>
<p>// 创建一个新的 serial queue pool</p>
<p><code>YYDispatchQueuePool *pool = [[YYDispatchQueuePool alloc] initWithName:@&quot;file.read&quot; queueCount:5 qos:NSQualityOfServiceBackground];</code></p>
<p><code>dispatch_queue_t queue = [pool queue];</code></p>
<h2 id="YYAsyncLayer"><a href="#YYAsyncLayer" class="headerlink" title="YYAsyncLayer"></a>YYAsyncLayer</h2><h4 id="u5B89_u88C5-7"><a href="#u5B89_u88C5-7" class="headerlink" title="安装"></a>安装</h4><h6 id="CocoaPods-8"><a href="#CocoaPods-8" class="headerlink" title="CocoaPods"></a>CocoaPods</h6><blockquote>
<ol>
<li>在 Podfile 中添加 pod ‘YYAsyncLayer’</li>
<li>执行 pod install 或 pod update</li>
<li>导入 <code>&lt;YYAsyncLayer/YYAsyncLayer.h&gt;</code></li>
</ol>
</blockquote>
<h6 id="Carthage-8"><a href="#Carthage-8" class="headerlink" title="Carthage"></a>Carthage</h6><blockquote>
<ol>
<li>在 Cartfile 中添加 github “ibireme/YYAsyncLayer”。</li>
<li>执行 carthage update –platform ios 并将生成的 framework 添加到你的工程。</li>
<li>导入 <code>&lt;YYAsyncLayer/YYAsyncLayer.h&gt;</code></li>
</ol>
</blockquote>
<h6 id="u624B_u52A8_u5B89_u88C5-8"><a href="#u624B_u52A8_u5B89_u88C5-8" class="headerlink" title="手动安装"></a>手动安装</h6><blockquote>
<ol>
<li>下载 YYAsyncLayer 文件夹内的所有内容。</li>
<li>将 YYAsyncLayer 内的源文件添加(拖放)到你的工程。</li>
<li>导入 YYAsyncLayer.h。</li>
</ol>
</blockquote>
<p>YYAsyncLayer是iOS异步绘制与显示的工具类。</p>
<p>提供的下载地址: <a href="https://github.com/ibireme/YYAsyncLayer" target="_blank" rel="external">https://github.com/ibireme/YYAsyncLayer</a></p>
<h4 id="u7B80_u5355_u4F7F_u7528_u65B9_u6CD5"><a href="#u7B80_u5355_u4F7F_u7528_u65B9_u6CD5" class="headerlink" title="简单使用方法"></a>简单使用方法</h4><p><img src="http://fishnews.cn/2016_05_11_55.png?attname=" alt=""></p>
<p><img src="http://fishnews.cn/2016_05_11_56.png?attname=" alt=""></p>
<h2 id="YYCategories"><a href="#YYCategories" class="headerlink" title="YYCategories"></a>YYCategories</h2><h4 id="u5B89_u88C5-8"><a href="#u5B89_u88C5-8" class="headerlink" title="安装"></a>安装</h4><h6 id="CocoaPods-9"><a href="#CocoaPods-9" class="headerlink" title="CocoaPods"></a>CocoaPods</h6><blockquote>
<ol>
<li>在 Podfile 中添加 pod ‘YYCategories’。</li>
<li>执行 pod install 或 pod update。</li>
<li>导入 <code>&lt;YYCategories/YYCategories.h&gt;</code></li>
</ol>
</blockquote>
<p>######Carthage</p>
<blockquote>
<ol>
<li>在 Cartfile 中添加 github “ibireme/YYCategories”。</li>
<li>执行 carthage update –platform ios 并将生成的 framework 添加到你的工程。</li>
<li>导入 <code>&lt;YYCategories/YYCategories.h&gt;</code></li>
</ol>
</blockquote>
<h6 id="u624B_u52A8_u5B89_u88C5-9"><a href="#u624B_u52A8_u5B89_u88C5-9" class="headerlink" title="手动安装"></a>手动安装</h6><blockquote>
<ol>
<li>下载 YYCategories 文件夹内的所有内容。</li>
<li>将 YYCategories 内的源文件添加(拖放)到你的工程。</li>
<li>为 NSObject+YYAddForARC.m 和 NSThread+YYAdd.m 添加编译参数 -fno-objc-arc</li>
<li>链接以下 frameworks:<ul>
<li>UIKit</li>
<li>CoreGraphics</li>
<li>QuartzCore</li>
<li>Accelerate</li>
<li>ImageIO</li>
<li>CoreText</li>
<li>CoreFoundation</li>
<li>libz</li>
</ul>
</li>
<li>导入 YYCategories.h。</li>
</ol>
</blockquote>
<p>YYCategories是功能丰富的 Category 类型工具库。</p>
<p>提供的下载地址:<a href="https://github.com/ibireme/YYCategories" target="_blank" rel="external">https://github.com/ibireme/YYCategories</a></p>
<hr>
<p>以上，<code>YYDispatchQueuePool</code>和<code>YYAsyncLayer</code>这两个工具类并没有花时间好好去研究，使用方法只是照搬过来，对于文中作者所讲的鉴于水平有限仍然有些疑惑，以后有时间再去研究。</p>
<p>YYKit包含的知识容量太过庞大，知识体系要求也更为全面，在研究之初对于文中的很多点并没有直观的认识，现在再去通读一遍感受也更为真切，更为深刻的认识只能在以后项目使用中再去体会！</p>
<hr>
<p>如有任何疑问或问题请联系我:fishnewsdream@gmail.com,欢迎交流，共同提高！</p>
<p>Objective-C/Swift技术开发交流群201556264，讨论何种技术并不受限，欢迎各位大牛百家争鸣！</p>
<p>微信公众号<code>OldDriverWeekly</code>，欢迎关注并提出宝贵意见</p>
<p><a href="https://juejin.im/user/5a52075e6fb9a01c9d31b107" target="_blank" rel="external">老司机iOS周报</a>,欢迎关注或订阅</p>
<p><a href="http://www.ggteach.com/index.html" target="_blank" rel="external">刚刚在线工作室</a>，欢迎关注或提出建设性意见！</p>
<p><a href="http://bbs.ggteach.com" target="_blank" rel="external">刚刚在线论坛</a>, 欢迎踊跃提问或解答！</p>
<p>如有转载，请注明出处，谢谢！</p>

      
    </div>
    
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2016/05/26/逆向工程应用-竞品分析/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption"><</strong>
      <div class="article-nav-title">
        
          逆向工程应用-竞品分析
        
      </div>
    </a>
  
  
    <a href="/2016/05/03/Runtime机制及使用梳理/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">RunTime机制及使用梳理</div>
      <strong class="article-nav-caption">></strong>
    </a>
  
</nav>

  
</article>


<div class="share_jia">
	<!-- JiaThis Button BEGIN -->
	<div class="jiathis_style">
		<span class="jiathis_txt">分享到: &nbsp; </span>
		<a class="jiathis_button_facebook"></a> 
    <a class="jiathis_button_twitter"></a>
    <a class="jiathis_button_plus"></a> 
    <a class="jiathis_button_tsina"></a>
		<a class="jiathis_button_cqq"></a>
		<a class="jiathis_button_douban"></a>
		<a class="jiathis_button_weixin"></a>
		<a class="jiathis_button_tumblr"></a>
    <a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	</div>
	<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1405949716054953" charset="utf-8"></script>
	<!-- JiaThis Button END -->
</div>




<div class="share_addthis">
  <div class="sharing addthis_toolbox share">
    <a class="addthis_button_facebook_like"></a>
    <a class="addthis_button_tweet"></a>
    <a class="addthis_button_google_plusone" g:plusone:size="medium"></a>
    <a class="addthis_counter addthis_pill_style"></a>
  </div>
  <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-560c64c35486b3d4" async="async"></script>
</div>




<div class="duoshuo">
	<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="YYKit探究" data-title="YYKit探究" data-url="http://chinafish.news/2016/05/10/YYKit探究/"></div>
	<!-- 多说评论框 end -->
	<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"true"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
	<!-- 多说公共JS代码 end -->
</div>




</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2022 含笑饮砒霜
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
<span id="busuanzi_container_site_pv">
    本站总访问量<span id="busuanzi_value_site_pv"></span>次
</span>
<span id="busuanzi_container_page_pv">
  本文总阅读量<span id="busuanzi_value_page_pv"></span>次
</span>
</footer>

    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js" type="text/javascript"></script>
<script src="/js/main.js" type="text/javascript"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>