<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>含笑饮砒霜的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="含笑饮砒霜的博客">
<meta property="og:url" content="http://chinafish.news/index.html">
<meta property="og:site_name" content="含笑饮砒霜的博客">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="含笑饮砒霜的博客">
<meta name="twitter:description">
  
    <link rel="alternative" href="/atom.xml" title="含笑饮砒霜的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">

</head>

<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="http://tp1.sinaimg.cn/2185265952/180/5686790740/1" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">含笑饮砒霜</a></h1>
		</hgroup>

		
		<p class="header-subtitle">如果可以打造非凡应用 为什么要止步于过得去</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						<li>友情链接</li>
						
						
						<li>关于我</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">概览</a></li>
				        
							<li><a href="/categories/进阶">进阶</a></li>
				        
							<li><a href="/categories/OC">OC</a></li>
				        
							<li><a href="/categories/Swift">Swift</a></li>
				        
							<li><a href="/categories/随笔">随笔</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/ChinaFishNews" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="http://weibo.com/2185265952/profile?topnav=1&wvr=6&is_all=1" title="weibo">weibo</a>
					        
								<a class="twitter" target="_blank" href="https://twitter.com/fishnewsdream" title="twitter">twitter</a>
					        
								<a class="linkedin" target="_blank" href="http://www.linkedin.com/in/新闻-余-ab2b19101?trk=nav_responsive_tab_profile_pic" title="linkedin">linkedin</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/AVPlayer、MoviePlayer/" style="font-size: 10px;">AVPlayer、MoviePlayer</a> <a href="/tags/Aspects-转载/" style="font-size: 10px;">Aspects,转载</a> <a href="/tags/Asstrill-Shadowsocks-云梯，壁虎漫步/" style="font-size: 10px;">Asstrill,Shadowsocks,云梯，壁虎漫步</a> <a href="/tags/Autolayout/" style="font-size: 10px;">Autolayout</a> <a href="/tags/BugHD/" style="font-size: 10px;">BugHD</a> <a href="/tags/Cocoapods/" style="font-size: 10px;">Cocoapods</a> <a href="/tags/Coding-net/" style="font-size: 10px;">Coding.net</a> <a href="/tags/Core-Graphics/" style="font-size: 10px;">Core Graphics</a> <a href="/tags/Fabric/" style="font-size: 15px;">Fabric</a> <a href="/tags/Git，GitHub-回滚，仓库/" style="font-size: 10px;">Git，GitHub,回滚，仓库</a> <a href="/tags/Leaks，Allocations-Time-Profiler/" style="font-size: 10px;">Leaks，Allocations,Time Profiler</a> <a href="/tags/MMPDeepSleepPreventer-后台无限运行/" style="font-size: 10px;">MMPDeepSleepPreventer,后台无限运行</a> <a href="/tags/MarkDown、Mou、Macdown/" style="font-size: 10px;">MarkDown、Mou、Macdown</a> <a href="/tags/Openfire-Spark/" style="font-size: 10px;">Openfire,Spark</a> <a href="/tags/Reveal/" style="font-size: 10px;">Reveal</a> <a href="/tags/RunTime-转载/" style="font-size: 10px;">RunTime,转载</a> <a href="/tags/UIBezierPath-CAShapeLayer/" style="font-size: 10px;">UIBezierPath,CAShapeLayer</a> <a href="/tags/YYKit/" style="font-size: 10px;">YYKit</a> <a href="/tags/coremlTools-scikitLearn-Python-Anaconda/" style="font-size: 10px;">coremlTools,scikitLearn,Python,Anaconda</a> <a href="/tags/人工智能，机器学习，coreML-Vision/" style="font-size: 10px;">人工智能，机器学习，coreML, Vision</a> <a href="/tags/免证书，免数据线/" style="font-size: 10px;">免证书，免数据线</a> <a href="/tags/奇巧淫技/" style="font-size: 10px;">奇巧淫技</a> <a href="/tags/奇技淫巧/" style="font-size: 10px;">奇技淫巧</a> <a href="/tags/拖延症/" style="font-size: 10px;">拖延症</a> <a href="/tags/支付宝SDK/" style="font-size: 10px;">支付宝SDK</a> <a href="/tags/机器学习，人工智能，coreML-Vision-ARKit/" style="font-size: 10px;">机器学习，人工智能，coreML, Vision, ARKit</a> <a href="/tags/环信SDK/" style="font-size: 10px;">环信SDK</a> <a href="/tags/装逼，特技/" style="font-size: 10px;">装逼，特技</a> <a href="/tags/证书，Application-Loader/" style="font-size: 10px;">证书，Application Loader</a> <a href="/tags/转载/" style="font-size: 20px;">转载</a> <a href="/tags/逆向工程/" style="font-size: 10px;">逆向工程</a> <a href="/tags/随笔/" style="font-size: 10px;">随笔</a>
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://blog.devtang.com">唐巧的博客</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.superqq.com">刚刚在线</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://jj59.com">九九文章网</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.cocoachina.com">CocoaChina</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.henishuo.com">标哥的技术博客</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://blog.csdn.net/yiyaaixuexi/">念茜的博客</a>
			        
			        </div>
				</section>
				

				
				
				<section class="switch-part switch-part4">
				
					<div id="js-aboutme">14级毕业生,专注于iOS开发。创建Objective-C、Swift技术开发交流群201556264,欢迎加入，共同提高!</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">含笑饮砒霜</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
			
				<img lazy-src="http://tp1.sinaimg.cn/2185265952/180/5686790740/1" class="js-avatar">
			
			</div>
			<hgroup>
			  <h1 class="header-author">含笑饮砒霜</h1>
			</hgroup>
			
			<p class="header-subtitle">如果可以打造非凡应用 为什么要止步于过得去</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">概览</a></li>
		        
					<li><a href="/categories/进阶">进阶</a></li>
		        
					<li><a href="/categories/OC">OC</a></li>
		        
					<li><a href="/categories/Swift">Swift</a></li>
		        
					<li><a href="/categories/随笔">随笔</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/ChinaFishNews" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://weibo.com/2185265952/profile?topnav=1&wvr=6&is_all=1" title="weibo">weibo</a>
			        
						<a class="twitter" target="_blank" href="https://twitter.com/fishnewsdream" title="twitter">twitter</a>
			        
						<a class="linkedin" target="_blank" href="http://www.linkedin.com/in/新闻-余-ab2b19101?trk=nav_responsive_tab_profile_pic" title="linkedin">linkedin</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
  
    <article id="post-人工智能-将第三方模型转换成core ML或自己训练模型环境配置" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/10/29/人工智能-将第三方模型转换成core ML或自己训练模型环境配置/" class="article-date">
  	<time datetime="2017-10-28T16:00:00.000Z" itemprop="datePublished">2017-10-29</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/10/29/人工智能-将第三方模型转换成core ML或自己训练模型环境配置/">人工智能-将第三方模型转换成core ML或自己训练模型环境配置</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><br></p>
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="//music.163.com/outchain/player?type=2&id=465920905&auto=0&height=66"></iframe>


<p>机器学习中使用到的模型，除了使用苹果官方提供到的一些模型以外，还可以将第三方训练好的模型转成coreML model,甚至可以自己训练模型。苹果官方给出了一些支持第三方模型的工具和版本</p>
<p><img src="http://7xqjid.com1.z0.glb.clouddn.com/2019_10_29_12.gif" alt=""></p>
<h4 id="u914D_u7F6E_u73AF_u5883"><a href="#u914D_u7F6E_u73AF_u5883" class="headerlink" title="配置环境"></a>配置环境</h4><p>1.安装<a href="https://www.anaconda.com/download" target="_blank" rel="external">Anaconda</a></p>
<p><img src="http://7xqjid.com1.z0.glb.clouddn.com/2017_10_29_13.png" alt=""></p>
<p>选择2.7版本，然后一路安装，Anconda是一个python的IDE，安装成功后打开终端更新Python版本，现在Mac内置的Python版本是2.7，而苹果要求的版本至少是是2.7.13<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda install python=<span class="number">2.7</span><span class="number">.13</span></span><br></pre></td></tr></table></figure></p>
<p>安装成功后查看Python版本<br><img src="http://7xqjid.com1.z0.glb.clouddn.com/2017_10_29_14.png" alt=""></p>
<p>2.安装pip </p>
<p>pip是Python种安装和管理包的工具，是easy_install的替代品<br><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">easy_install</span> pip</span><br></pre></td></tr></table></figure></p>
<p><img src="http://7xqjid.com1.z0.glb.clouddn.com/2017_10_29_15.png" alt=""></p>
<p>3.安装coremlTools</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip <span class="keyword">install</span> -U coremltools</span><br></pre></td></tr></table></figure>
<p>判断是否安装成功，可通过导入模块是否成功来判断</p>
<p><img src="http://7xqjid.com1.z0.glb.clouddn.com/2017_10_29_16.png" alt=""></p>
<p>4.安装keras、tensorflow、scikit-learn<br><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pip <span class="keyword">install</span> keras==<span class="number">1.2</span>.<span class="number">2</span></span><br><span class="line">pip <span class="keyword">install</span> tensorflow</span><br><span class="line">pip <span class="keyword">install</span> -U scikit-learn</span><br></pre></td></tr></table></figure></p>
<p>判断是否安装成功依然可用上述方法</p>
<p>或者，打开Anconda, 选择3.1.4版本的Spyder</p>
<p><img src="http://7xqjid.com1.z0.glb.clouddn.com/2017_10_29_20.png" alt=""></p>
<p><img src="http://7xqjid.com1.z0.glb.clouddn.com/2017_10_29_21.png" alt=""></p>
<p>运行，如果没报错说明引入成功</p>
<p>5.安装caffe依赖包<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">brew <span class="operator"><span class="keyword">install</span> -vd snappy leveldb giflags glog szip lmdb</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> snappy leveldb gflags glog szip hdf5 lmdb homebrew/science/opencv;</span><span class="operator"><span class="keyword">do</span>      brew <span class="keyword">uninstall</span> $x;</span>      brew <span class="operator"><span class="keyword">install</span> <span class="comment">--fresh -vd $x</span></span><br><span class="line">done</span><br><span class="line">brew <span class="keyword">uninstall</span> <span class="comment">--force protobuf; brew install --with-python --fresh -vd</span>protobufbrew <span class="keyword">uninstall</span> boost boost-python;</span> brew <span class="operator"><span class="keyword">install</span> <span class="comment">--fresh -vd boost boost-python</span></span><br><span class="line">      </span><br><span class="line">brew tap homebrew/science</span><br><span class="line"></span><br><span class="line">brew <span class="keyword">install</span> hdf5 opencv</span></span><br></pre></td></tr></table></figure></p>
<p>6.修改opencv<br><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">brew </span>edit opencv</span><br></pre></td></tr></table></figure></p>
<p>找到下图标注的两行</p>
<p><img src="http://7xqjid.com1.z0.glb.clouddn.com/2017_10_29_17.png" alt=""></p>
<p>替换成：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DPYTHON_LIBRARY=<span class="preprocessor">#&#123;py_prefi x&#125;/lib/libpython2<span class="number">.7</span>.dylib</span>DPYTHON_INCLUDE_DIR=<span class="preprocessor">#&#123;py _prefix&#125;/<span class="keyword">include</span>/python2.7</span></span><br></pre></td></tr></table></figure>
<p>替换后的效果是：</p>
<p><img src="http://7xqjid.com1.z0.glb.clouddn.com/2017_10_29_18.png" alt=""></p>
<p>7.加入依赖包<br><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">brew </span>install --<span class="keyword">build-from-source </span>--with-python -vd protobuf<span class="keyword">brew </span>install --<span class="keyword">build-from-source </span>-vd <span class="keyword">boost </span><span class="keyword">boost-python</span></span><br></pre></td></tr></table></figure></p>
<p>8.检查是否有缺失<br><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">brew </span>doctor</span><br><span class="line"><span class="keyword">brew </span>missing</span><br></pre></td></tr></table></figure></p>
<h4 id="u4E0A_u8FF0_u5B89_u88C5_u8FC7_u7A0B_u4E2D_u53EF_u80FD_u5E76_u975E_u4E00_u5E06_u98CE_u987A_uFF0C_u5982_u6709_u9519_u8BEF_u5E94_u6309_u7167_u63D0_u793A_u4FEE_u6539_u3002_u82F9_u679C_u5BF9_u7248_u672C_u8981_u6C42_u8F83_u4E3A_u4E25_u683C_uFF0C_u5B89_u88C5_u65F6_u6CE8_u610F_u7248_u672C_u63A7_u5236_u3002"><a href="#u4E0A_u8FF0_u5B89_u88C5_u8FC7_u7A0B_u4E2D_u53EF_u80FD_u5E76_u975E_u4E00_u5E06_u98CE_u987A_uFF0C_u5982_u6709_u9519_u8BEF_u5E94_u6309_u7167_u63D0_u793A_u4FEE_u6539_u3002_u82F9_u679C_u5BF9_u7248_u672C_u8981_u6C42_u8F83_u4E3A_u4E25_u683C_uFF0C_u5B89_u88C5_u65F6_u6CE8_u610F_u7248_u672C_u63A7_u5236_u3002" class="headerlink" title="上述安装过程中可能并非一帆风顺，如有错误应按照提示修改。苹果对版本要求较为严格，安装时注意版本控制。"></a>上述安装过程中可能并非一帆风顺，如有错误应按照提示修改。苹果对版本要求较为严格，安装时注意版本控制。</h4><hr>
<p>如有任何疑问或问题请联系我:fishnewsdream@gmail.com,欢迎交流，共同提高！</p>
<p>Objective-C/Swift技术开发交流群201556264，讨论何种技术并不受限，欢迎各位大牛百家争鸣！</p>
<p><a href="http://www.ggteach.com/index.html" target="_blank" rel="external">刚刚在线工作室</a>，欢迎关注或提出建设性意见！</p>
<p><a href="http://bbs.ggteach.com" target="_blank" rel="external">刚刚在线论坛</a>, 欢迎踊跃提问或解答！</p>
<p>如有转载，请注明出处，谢谢！</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/coremlTools-scikitLearn-Python-Anaconda/">coremlTools,scikitLearn,Python,Anaconda</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Swift/">Swift</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-人工智能-coreML入门 结合ARKit" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/10/29/人工智能-coreML入门 结合ARKit/" class="article-date">
  	<time datetime="2017-10-28T16:00:00.000Z" itemprop="datePublished">2017-10-29</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/10/29/人工智能-coreML入门 结合ARKit/">人工智能-coreML入门 结合ARKit</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><br></p>
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="//music.163.com/outchain/player?type=2&id=456481586&auto=0&height=66"></iframe>

<h4 id="ARKit_3A"><a href="#ARKit_3A" class="headerlink" title="ARKit:"></a>ARKit:</h4><p>iOS11引入的全新的框架，允许开发者轻松地为 iPhone 和 iPad 创建无与伦比的增强现实体验。通过将虚拟对象和虚拟信息同用户周围的环境相互融合，ARKit 使得应 用跳出屏幕的限制，让它们能够以全新的方式与现实世界进行交互。</p>
<ul>
<li><p>所谓的增强现实 (Augmented Reality, AR)，指的是向设备摄像头产生的实时动态视图中，添加 2D 或者 3D 元素，然后用某种方法让这些元素看起来就处于现实世界当中，所产生的一种用户体验。ARKit 提供设备动作追踪、相机场景捕获和高级场景处理，并让AR元素的展示变得极为便利，从而大大简化了建立 AR用户体验的工作难度。</p>
</li>
<li><p>ARSession类：<br> 这是一个单例, 是ARKit的核心类，用于控制设备摄像头，处理传感器数据，对捕获的图像进行分析等</p>
</li>
<li><p>ARSessionConfiguration类：<br>跟踪设备 向的 个基本配置, 在运行时，需要指定AR运行的配置</p>
</li>
<li><p>ARWorldTrackingSessionConfiguration类：<br>配置跟踪设备的方向和位置,以及检测设备摄像头所看到的现实世界的表面</p>
</li>
<li><p>ARSCNView类：<br>用来增强相机通过 3D SceneKit 所捕捉到的内容并展示 AR 效果的一个 view</p>
</li>
<li><p>ARSKView类：<br>用来增强相机通过 2D SpriteKit 所捕捉到的内容并展示AR 效果的一个 view</p>
</li>
<li><p>ARAnchor类：<br>真实世界的位置和方向,用于在一个AR场景中放置一个物体</p>
</li>
<li><p>ARPlaneAnchor类：<br>在一个AR Session会话中检测一个真实世界中平面的位置和方向的相关信息</p>
</li>
<li><p>ARHitTestResult类：<br>在一个AR Session会话中通过检测相机视图中的一个点来获取真实世界中表面的相关信息</p>
</li>
<li><p>ARFrame类：<br>捕获一个视频图像和位置追踪信息作为一个AR会话的一部分</p>
</li>
<li><p>ARCamera类：<br>在一个AR会话中摄像机的位置和成像特征信息为捕获视频帧</p>
</li>
</ul>
<ul>
<li>ARLightEstimate类<br>在一个AR会话中估计场景照明信息关联到一个捕获的视频帧</li>
</ul>
<h4 id="coreML"><a href="#coreML" class="headerlink" title="coreML"></a>coreML</h4><p>iOS11引入的一个全新的机器学习框架，同时伴随着Vision框架。coreML让我们更容易在 App 中使用训练过的模型, 而Vision让我们轻松访问苹果的模型，用于面部检测、面部特征点、文字、矩形、条形码和物体等。Vision模型中可以包装任意的图像分析coreML模型。Vision框架其实就是对coreML框架的一层封装，使用起来更加方便。根据官方文档提供的图像可以看出，这两个框架的作用，就是将一个ML模型，转换成我们的app工程可以直接使用的对象。<br><img src="http://7xqjid.com1.z0.glb.clouddn.com/2017_10_29_01.png" alt=""></p>
<ul>
<li>机器学习(ML:Machine Learning)：<br>是一种人工智能，计算机会“学习”而不是被明确编程。不用编写算法，机器学习工具通过在大量数据中寻找模式，使计算机能够开发和优化算法。机器学习(ML)是人工智能(AI)的一个分支，深度学习(DL)又是更小分一个分支，大概关系如图所示</li>
</ul>
<p><img src="http://7xqjid.com1.z0.glb.clouddn.com/2017_10_29_07.png" alt=""></p>
<h4 id="Demo_uFF1A"><a href="#Demo_uFF1A" class="headerlink" title="Demo："></a>Demo：</h4><ol>
<li>建立一个工程，选择Augmented Reality App, 会帮我们创建一个ARSCNView视图</li>
</ol>
<p><img src="http://7xqjid.com1.z0.glb.clouddn.com/2017_10_29_02.png" alt=""></p>
<p>2.到官网下载一个模型 <a href="https://developer.apple.com/machine-learning/" target="_blank" rel="external">模型下载</a>, 每个模型的作用都有对应的解释，能识别的图像种类也不尽相同，根据不同需求下载不同模型</p>
<p><img src="http://7xqjid.com1.z0.glb.clouddn.com/2017_10_29_03.gif" alt=""></p>
<p>3.将模型拖入工程中，可能需要加载一会才会显示，如下图所示。选中模型，会出现模型相关信息，大小、功能、类型等。Model Class下会有一个箭头，点击进入会看到模型的源码。Model Evaluation Parameter下会有模型的输入(input)输出(outPuts)信息。输入的需要时大小为224*224的图片，而返回的结果一个是classLabelProbs,即信任度或百分比，而classLabel即得到的结果。不同模型的输输出并不相同。注意右下角的Target Members在Xcode9中默认不会勾选，需要手动选中。</p>
<p><img src="http://7xqjid.com1.z0.glb.clouddn.com/2017_10_29_04.png" alt=""></p>
<p>4.创建模型并声明相关变量<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var resentModel = Resnet50()</span><br><span class="line"></span><br><span class="line">var hitTestResult: ARHitTestResult!</span><br><span class="line"></span><br><span class="line">var visionRequests = [<span class="link_label">VNRequest</span>](<span class="link_url"></span>)</span><br></pre></td></tr></table></figure></p>
<p>5.给当前场景添加一个手势<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">registerGestureRecognizers</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">let</span> tapGesture = <span class="type">UITapGestureRecognizer</span>(target:<span class="keyword">self</span>, action:#selector(tapped))</span><br><span class="line">        sceneView.addGestureRecognizer(tapGesture)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<p>6.点击场景<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">@objc</span> <span class="func"><span class="keyword">func</span> <span class="title">tapped</span><span class="params">(tapGesture:UITapGestureRecognizer)</span></span> &#123;</span><br><span class="line">        <span class="keyword">let</span> sceneView = tapGesture.view <span class="keyword">as</span>! <span class="type">ARSCNView</span></span><br><span class="line">        <span class="keyword">let</span> touchLocation = tapGesture.location(<span class="keyword">in</span>: <span class="keyword">self</span>.sceneView)</span><br><span class="line">        <span class="keyword">guard</span> <span class="keyword">let</span> currentFrame = sceneView.session.currentFrame <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="built_in">fatalError</span>(<span class="string">"no pixel"</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">let</span> hitTestResults = sceneView.hitTest(touchLocation, types: .featurePoint)</span><br><span class="line">        <span class="keyword">if</span> hitTestResults.isEmpty &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">        <span class="keyword">guard</span> <span class="keyword">let</span> hitTestResult = hitTestResults.first <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="built_in">fatalError</span>(<span class="string">"not first object"</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">self</span>.hitTestResult = hitTestResult;</span><br><span class="line">        <span class="comment">// image-&gt;pixel</span></span><br><span class="line">        <span class="keyword">let</span> pixelBuffer = currentFrame.capturedImage;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// Vision</span></span><br><span class="line">        performVisonRequest(pixelBuffer: pixelBuffer)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<p>7.通过Vision处理<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">performVisonRequest</span><span class="params">(pixelBuffer:CVPixelBuffer)</span></span> &#123;</span><br><span class="line">       <span class="keyword">let</span> visionModel = <span class="keyword">try</span>! <span class="type">VNCoreMLModel</span>(<span class="keyword">for</span>:<span class="keyword">self</span>.resentModel.model)</span><br><span class="line">       <span class="keyword">let</span> request:<span class="type">VNCoreMLRequest</span> = <span class="type">VNCoreMLRequest</span>(model:visionModel) &#123; request,error <span class="keyword">in</span></span><br><span class="line">           <span class="keyword">if</span> error != <span class="literal">nil</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">           <span class="keyword">guard</span> <span class="keyword">let</span> observations = request.results <span class="keyword">else</span> &#123;</span><br><span class="line">               <span class="built_in">fatalError</span>(<span class="string">"no result"</span>)</span><br><span class="line">           &#125;</span><br><span class="line">           </span><br><span class="line">           <span class="keyword">let</span> observation = observations.first <span class="keyword">as</span>! <span class="type">VNClassificationObservation</span></span><br><span class="line">           <span class="built_in">print</span>(<span class="string">"name is <span class="subst">\(observation.identifier)</span> \n confidence is <span class="subst">\(observation.confidence)</span>"</span>)</span><br><span class="line">           </span><br><span class="line">           <span class="type">DispatchQueue</span>.main.async &#123;</span><br><span class="line">               <span class="keyword">self</span>.displayPredictions(text: observation.identifier)</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       request.imageCropAndScaleOption = .centerCrop;</span><br><span class="line">       visionRequests = [request]</span><br><span class="line">       <span class="keyword">let</span> imageRequestHandler:<span class="type">VNImageRequestHandler</span> = <span class="type">VNImageRequestHandler</span>(cvPixelBuffer:pixelBuffer,orientation:.upMirrored,options:[:])</span><br><span class="line"></span><br><span class="line">       <span class="type">DispatchQueue</span>.global().async &#123;</span><br><span class="line">           <span class="keyword">try</span>? imageRequestHandler.perform(<span class="keyword">self</span>.visionRequests)</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure></p>
<p>8.展示预测结果</p>
<p>func displayPredictions(text:String)  {<br>        let parentNode = SCNNode()</p>
<pre><code>    // 1cm
    let sphere = SCNSphere(radius:0.01)
    let sphereMaterial = SCNMaterial()
    sphereMaterial.diffuse.contents = UIColor.orange
    sphere.firstMaterial = sphereMaterial

    let sphereNode = SCNNode(geometry:sphere)
    parentNode.addChildNode(sphereNode)

    // text
    let textGeo = SCNText(string:text,extrusionDepth:0)
    textGeo.alignmentMode = kCAAlignmentCenter
    textGeo.firstMaterial?.diffuse.contents = UIColor.orange
    textGeo.firstMaterial?.specular.contents = UIColor.white
    textGeo.firstMaterial?.isDoubleSided = true
    textGeo.font = UIFont(name:&quot;Futura&quot;,size:0.20)

    let textNode = SCNNode(geometry:textGeo)
    textNode.position = SCNVector3(x:self.hitTestResult.worldTransform.columns.3.x,
                                   y:self.hitTestResult.worldTransform.columns.3.y,
                                   z:self.hitTestResult.worldTransform.columns.3.z)
    textNode.scale = SCNVector3Make(0.2,0.2,0.2)
    parentNode.addChildNode(textNode)

    parentNode.position = SCNVector3(x:self.hitTestResult.worldTransform.columns.3.x,
                                     y:self.hitTestResult.worldTransform.columns.3.y,
                                     z:self.hitTestResult.worldTransform.columns.3.z)
    // show AR resutl
    self.sceneView.scene.rootNode.addChildNode(parentNode)
}
</code></pre><p>9.结果展示</p>
<p>运行项目，将真机对准物体，距离适中。注意苹果AR仅支持搭载A9/A10及更先进处理器的iOS 11设备，接下来新出的苹果设备，也同样会支持苹果AR功能。目前支持机型如下：</p>
<ul>
<li>iPhone6s和6S Plus</li>
<li>iPhone7和7 Plu</li>
<li>iPhone SE</li>
<li>iPad Pro （9.7， 10.5和12.9）</li>
<li>iPad （2017</li>
</ul>
<p>最终展示效果如下,结果其实可能并不准确，但是提供了一个可能性。展示结果也可以呈现多样性，比如显示百分比，显示可信度排名前几的分析对象等</p>
<p><img src="http://7xqjid.com1.z0.glb.clouddn.com/2017_10_29_05.png" alt=""></p>
<p><img src="http://7xqjid.com1.z0.glb.clouddn.com/2017_10_29_06.png" alt=""></p>
<p><br></p>
<h5 id="Demo_u4E0B_u8F7D"><a href="#Demo_u4E0B_u8F7D" class="headerlink" title="Demo下载"></a><a href="https://github.com/ChinaFishNews/ARKit-And-CoreMl" target="_blank" rel="external">Demo下载</a></h5><hr>
<p>如有任何疑问或问题请联系我:fishnewsdream@gmail.com,欢迎交流，共同提高！</p>
<p>Objective-C/Swift技术开发交流群201556264，讨论何种技术并不受限，欢迎各位大牛百家争鸣！</p>
<p><a href="http://www.ggteach.com/index.html" target="_blank" rel="external">刚刚在线工作室</a>，欢迎关注或提出建设性意见！</p>
<p><a href="http://bbs.ggteach.com" target="_blank" rel="external">刚刚在线论坛</a>, 欢迎踊跃提问或解答！</p>
<p>如有转载，请注明出处，谢谢！</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/机器学习，人工智能，coreML-Vision-ARKit/">机器学习，人工智能，coreML, Vision, ARKit</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Swift/">Swift</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-人工智能-coreML基于图像处理" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/10/29/人工智能-coreML基于图像处理/" class="article-date">
  	<time datetime="2017-10-28T16:00:00.000Z" itemprop="datePublished">2017-10-29</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/10/29/人工智能-coreML基于图像处理/">人工智能-coreML基于图像处理</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><br></p>
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="//music.163.com/outchain/player?type=2&id=492151700&auto=0&height=66"></iframe>

<p>到官网先下载一个模型，比如GoogLeNetPlaces(<a href="https://developer.apple.com/machine-learning/" target="_blank" rel="external">链接</a>)，一个识别场景的模型,创建一个Single View App工程，拖入下载好的模型 ,搭建基本的UI页面</p>
<p><img src="http://7xqjid.com1.z0.glb.clouddn.com/%202017_10_29_08.png" alt=""></p>
<p>使用两种方式分析图片场景，coreML和Vision。</p>
<p><img src="http://7xqjid.com1.z0.glb.clouddn.com/2017_10_29_09.png" alt=""></p>
<h4 id="Vision_u5904_u7406_u56FE_u7247"><a href="#Vision_u5904_u7406_u56FE_u7247" class="headerlink" title="Vision处理图片"></a>Vision处理图片</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">coreMLprocessImage</span><span class="params">(image:UIImage)</span></span> &#123;</span><br><span class="line">      <span class="keyword">let</span> hander = <span class="type">VNImageRequestHandler</span>(cgImage:image.cgImage!)</span><br><span class="line">      <span class="keyword">let</span> model = <span class="keyword">try</span>! <span class="type">VNCoreMLModel</span>(<span class="keyword">for</span>:modelFile.model)</span><br><span class="line">      <span class="keyword">let</span> request = <span class="type">VNCoreMLRequest</span>(model:model,completionHandler:completionHandler)</span><br><span class="line">      <span class="keyword">try</span>? hander.perform([request])</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<h4 id="u5904_u7406_u7ED3_u679C"><a href="#u5904_u7406_u7ED3_u679C" class="headerlink" title="处理结果"></a>处理结果</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">completionHandler</span><span class="params">(request:VNRequest,error:Error?)</span></span> &#123;</span><br><span class="line">        <span class="keyword">guard</span> <span class="keyword">let</span> results = request.results <span class="keyword">as</span>? [<span class="type">VNClassificationObservation</span>] <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="built_in">fatalError</span>(<span class="string">"no result"</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// result</span></span><br><span class="line">        <span class="keyword">var</span> bestPredication = <span class="string">""</span></span><br><span class="line">        <span class="keyword">var</span> bestConfidence:<span class="type">VNConfidence</span> = <span class="number">0</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> classIdentifier <span class="keyword">in</span> results &#123;</span><br><span class="line">            <span class="keyword">if</span> classIdentifier.confidence &gt; bestConfidence &#123;</span><br><span class="line">                bestPredication = classIdentifier.identifier</span><br><span class="line">                bestConfidence = classIdentifier.confidence</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">DispatchQueue</span>.main.async &#123;</span><br><span class="line">            <span class="keyword">self</span>.resultLabel.text = <span class="string">"Predication:<span class="subst">\(bestPredication)</span> Confidence:<span class="subst">\(lroundf(bestConfidence * <span class="number">100</span>)</span>)%"</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h4 id="coreML_u5904_u7406_u56FE_u7247"><a href="#coreML_u5904_u7406_u56FE_u7247" class="headerlink" title="coreML处理图片"></a>coreML处理图片</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">coreMLAndVisionProcessImage</span><span class="params">(image:UIImage)</span></span> &#123;</span><br><span class="line">       <span class="keyword">let</span> imageWidth:<span class="type">CGFloat</span> = <span class="number">224.0</span></span><br><span class="line">       <span class="keyword">let</span> imageHeight:<span class="type">CGFloat</span> = <span class="number">224.0</span></span><br><span class="line">       <span class="type">UIGraphicsBeginImageContext</span>(<span class="type">CGSize</span>(width:imageWidth, height:imageHeight))</span><br><span class="line">       image.draw(<span class="keyword">in</span>:<span class="type">CGRect</span>(x:<span class="number">0</span>, y:<span class="number">0</span>, width:imageHeight, height:imageHeight))</span><br><span class="line">       <span class="keyword">let</span> resizedImage = <span class="type">UIGraphicsGetImageFromCurrentImageContext</span>()</span><br><span class="line">       <span class="type">UIGraphicsEndImageContext</span>()</span><br><span class="line">       <span class="keyword">guard</span> resizedImage != <span class="literal">nil</span> <span class="keyword">else</span> &#123;</span><br><span class="line">           <span class="built_in">fatalError</span>(<span class="string">"resized Image fail"</span>)</span><br><span class="line">       &#125;</span><br><span class="line">       </span><br><span class="line">       <span class="comment">// image-&gt;CVPixelBuffer</span></span><br><span class="line">       <span class="keyword">guard</span> <span class="keyword">let</span> pixelBuffer = imageCovertToPixelBuffer(from: resizedImage!) <span class="keyword">else</span> &#123;</span><br><span class="line">           <span class="built_in">fatalError</span>(<span class="string">"UIImage-&gt;CVPixelBuffer failed"</span>)</span><br><span class="line">       &#125;</span><br><span class="line">       </span><br><span class="line">       <span class="keyword">guard</span> <span class="keyword">let</span> outPut = <span class="keyword">try</span>? modelFile.prediction(sceneImage: pixelBuffer) <span class="keyword">else</span> &#123;</span><br><span class="line">           <span class="built_in">fatalError</span>(<span class="string">"failed"</span>)</span><br><span class="line">       &#125;</span><br><span class="line">       </span><br><span class="line">       <span class="type">DispatchQueue</span>.main.async &#123;</span><br><span class="line">           <span class="keyword">self</span>.resultLabel.text = <span class="string">"Predication:<span class="subst">\(outPut.sceneLabel)</span> Confidence:<span class="subst">\(lroundf(Float(outPut.sceneLabelProbs[outPut.sceneLabel]! * <span class="number">100</span>)</span>))%"</span></span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<h4 id="u5C06UIImage_u8F6C_u6210CVPixelBuffer"><a href="#u5C06UIImage_u8F6C_u6210CVPixelBuffer" class="headerlink" title="将UIImage转成CVPixelBuffer"></a>将UIImage转成CVPixelBuffer</h4><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">func imageCovertToPixelBuffer(from <span class="built_in">image</span>: UIImage) -&gt; CVPixelBuffer? &#123;</span><br><span class="line">     let attrs = [kCVPixelBufferCGImageCompatibilityKey: kCFBooleanTrue, kCVPixelBufferCGBitmapContextCompatibilityKey: kCFBooleanTrue] as CFDictionary</span><br><span class="line">     var pixelBuffer : CVPixelBuffer?</span><br><span class="line">     let status = CVPixelBufferCreate(kCFAllocatorDefault, Int(<span class="built_in">image</span>.<span class="built_in">size</span>.<span class="variable">width</span>), Int(<span class="built_in">image</span>.<span class="built_in">size</span>.<span class="variable">height</span>), kCVPixelFormatType_32ARGB, attrs, &amp;pixelBuffer)</span><br><span class="line">     guard (status == kCVReturnSuccess) <span class="keyword">else</span> &#123;</span><br><span class="line">         <span class="keyword">return</span> nil</span><br><span class="line">     &#125;</span><br><span class="line">     </span><br><span class="line">     CVPixelBufferLockBaseAddress(pixelBuffer!, CVPixelBufferLockFlags(rawValue: <span class="number">0</span>))</span><br><span class="line">     let pixelData = CVPixelBufferGetBaseAddress(pixelBuffer!)</span><br><span class="line">     </span><br><span class="line">     let rgbColorSpace = CGColorSpaceCreateDeviceRGB()</span><br><span class="line">     let context = CGContext(data: pixelData, <span class="variable">width</span>: Int(<span class="built_in">image</span>.<span class="built_in">size</span>.<span class="variable">width</span>), <span class="variable">height</span>: Int(<span class="built_in">image</span>.<span class="built_in">size</span>.<span class="variable">height</span>), bitsPerComponent: <span class="number">8</span>, bytesPerRow: CVPixelBufferGetBytesPerRow(pixelBuffer!), space: rgbColorSpace, bitmapInfo: CGImageAlphaInfo.noneSkipFirst.rawValue)</span><br><span class="line">     </span><br><span class="line">     context?.translateBy(x: <span class="number">0</span>, y: <span class="built_in">image</span>.<span class="built_in">size</span>.<span class="variable">height</span>)</span><br><span class="line">     context?.scaleBy(x: <span class="number">1.0</span>, y: -<span class="number">1.0</span>)</span><br><span class="line">     </span><br><span class="line">     UIGraphicsPushContext(context!)</span><br><span class="line">     <span class="built_in">image</span>.<span class="title">draw</span>(in: CGRect(x: <span class="number">0</span>, y: <span class="number">0</span>, <span class="variable">width</span>: <span class="built_in">image</span>.<span class="built_in">size</span>.<span class="variable">width</span>, <span class="variable">height</span>: <span class="built_in">image</span>.<span class="built_in">size</span>.<span class="variable">height</span>))</span><br><span class="line">     UIGraphicsPopContext()</span><br><span class="line">     CVPixelBufferUnlockBaseAddress(pixelBuffer!, CVPixelBufferLockFlags(rawValue: <span class="number">0</span>))</span><br><span class="line">     </span><br><span class="line">     <span class="keyword">return</span> pixelBuffer</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<h4 id="u7ED3_u679C_u6F14_u793A"><a href="#u7ED3_u679C_u6F14_u793A" class="headerlink" title="结果演示"></a>结果演示</h4><p><img src="http://7xqjid.com1.z0.glb.clouddn.com/2019_10_29_10.gif" alt=""></p>
<h4 id="u4E0A_u56FE_u53EF_u4EE5_u770B_u5230_uFF0C_u540C_u6837_u7684_u573A_u666F_u56FE_u7247_uFF0CcoreML_u548CVision_u9884_u6D4B_u7684_u7ED3_u679C_u5E76_u4E0D_u4E00_u6837_uFF0C_u540C_u4E00_u573A_u666F_u6216_u56FE_u7247_uFF0CcoreML_u9884_u6D4B_u7684_u7ED3_u679C_u53EF_u4FE1_u5EA6_u66F4_u9AD8_uFF0CVision_u53EF_u80FD_u5728_u5C01_u88C5coreML_u65F6_u505A_u4E86_u4E00_u4E9B_u5176_u4ED6_u64CD_u4F5C_uFF0C_u5177_u4F53_u4E0D_u5F97_u800C_u77E5_u3002_u4F46_u662F_u4F7F_u7528coreML_u5904_u7406_u8FC7_u7A0B_u8F83Vision_u66F4_u4E3A_u7E41_u7410_uFF0C_u9996_u5148_u9700_u8981_u5C06_u56FE_u7247_u88C1_u526A_u6210_u6A21_u578B_u9700_u8981_u7684_u6307_u5B9A_u5927_u5C0F_uFF0C_u800C_u540E_u9700_u8981_u5C06_u56FE_u7247_u683C_u5F0F_u8F6C_u5316_u4E3A_u6A21_u578B_u9700_u8981_u7684CVPixelBuffer_u7C7B_u578B_u3002_u9009_u62E9_u54EA_u79CD_u6A21_u5F0F_u9700_u6839_u636E_u5177_u4F53_u9700_u6C42_u800C_u5B9A_u3002"><a href="#u4E0A_u56FE_u53EF_u4EE5_u770B_u5230_uFF0C_u540C_u6837_u7684_u573A_u666F_u56FE_u7247_uFF0CcoreML_u548CVision_u9884_u6D4B_u7684_u7ED3_u679C_u5E76_u4E0D_u4E00_u6837_uFF0C_u540C_u4E00_u573A_u666F_u6216_u56FE_u7247_uFF0CcoreML_u9884_u6D4B_u7684_u7ED3_u679C_u53EF_u4FE1_u5EA6_u66F4_u9AD8_uFF0CVision_u53EF_u80FD_u5728_u5C01_u88C5coreML_u65F6_u505A_u4E86_u4E00_u4E9B_u5176_u4ED6_u64CD_u4F5C_uFF0C_u5177_u4F53_u4E0D_u5F97_u800C_u77E5_u3002_u4F46_u662F_u4F7F_u7528coreML_u5904_u7406_u8FC7_u7A0B_u8F83Vision_u66F4_u4E3A_u7E41_u7410_uFF0C_u9996_u5148_u9700_u8981_u5C06_u56FE_u7247_u88C1_u526A_u6210_u6A21_u578B_u9700_u8981_u7684_u6307_u5B9A_u5927_u5C0F_uFF0C_u800C_u540E_u9700_u8981_u5C06_u56FE_u7247_u683C_u5F0F_u8F6C_u5316_u4E3A_u6A21_u578B_u9700_u8981_u7684CVPixelBuffer_u7C7B_u578B_u3002_u9009_u62E9_u54EA_u79CD_u6A21_u5F0F_u9700_u6839_u636E_u5177_u4F53_u9700_u6C42_u800C_u5B9A_u3002" class="headerlink" title="上图可以看到，同样的场景图片，coreML和Vision预测的结果并不一样，同一场景或图片，coreML预测的结果可信度更高，Vision可能在封装coreML时做了一些其他操作，具体不得而知。但是使用coreML处理过程较Vision更为繁琐，首先需要将图片裁剪成模型需要的指定大小，而后需要将图片格式转化为模型需要的CVPixelBuffer类型。选择哪种模式需根据具体需求而定。"></a>上图可以看到，同样的场景图片，coreML和Vision预测的结果并不一样，同一场景或图片，coreML预测的结果可信度更高，Vision可能在封装coreML时做了一些其他操作，具体不得而知。但是使用coreML处理过程较Vision更为繁琐，首先需要将图片裁剪成模型需要的指定大小，而后需要将图片格式转化为模型需要的CVPixelBuffer类型。选择哪种模式需根据具体需求而定。</h4><h4 id="Demo_u4E0B_u8F7D"><a href="#Demo_u4E0B_u8F7D" class="headerlink" title="Demo下载"></a><a href="https://github.com/ChinaFishNews/CoreMLOrVisionRecognizePhoto" target="_blank" rel="external">Demo下载</a></h4><hr>
<p>如有任何疑问或问题请联系我:fishnewsdream@gmail.com,欢迎交流，共同提高！</p>
<p>Objective-C/Swift技术开发交流群201556264，讨论何种技术并不受限，欢迎各位大牛百家争鸣！</p>
<p><a href="http://www.ggteach.com/index.html" target="_blank" rel="external">刚刚在线工作室</a>，欢迎关注或提出建设性意见！</p>
<p><a href="http://bbs.ggteach.com" target="_blank" rel="external">刚刚在线论坛</a>, 欢迎踊跃提问或解答！</p>
<p>如有转载，请注明出处，谢谢！</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/人工智能，机器学习，coreML-Vision/">人工智能，机器学习，coreML, Vision</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Swift/">Swift</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-十月" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/10/22/十月/" class="article-date">
  	<time datetime="2017-10-21T16:00:00.000Z" itemprop="datePublished">2017-10-22</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/10/22/十月/">十月</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="http://music.163.com/outchain/player?type=0&id=896846175&auto=0&height=66"></iframe>



<p>选择在周日下午午睡实在不是明智的选择，记不清多少次一觉醒来都临近晚上了。仿佛穿越时空，片刻间不知道自己在哪、什么时间，拉上的窗帘依然能透过夕阳的影子，恍惚间会觉得有点低落。往常可能会在这个时候给久未联系的朋友打个电话，也不知道何时这个习惯莫名终止了。</p>
<p>忙碌的生活可能并不容易，但是颓废的生活果然是这么轻松惬意，身为并不愿意承认重度拖延症患者的我，想做点什么并不容易，这种感觉很糟糕。今年几个熟悉的人从公司离职，感觉是更糟糕。想想也是有趣，大概每天至少会有三分之一的时间是在职场度过，然而一旦离职这种体系基本会随之崩塌，仿佛从未认识过一样，然后变成社交软件上的一个ID,然后变成不远的将来后偶尔想起的曾经。越来越不喜欢建立这种随时会被打破的社交关系，费时费力，仅点头之交的关系，不要也罢。</p>
<p>四年前的这个时候初到上海，离开了我非常喜欢的泉州厦门，四年过去了，不仔细回想，都不知道这几年是怎么过的。以前希望一天变成12小时，而现在却希望一天是48小时。变得和以前难以置信的不一样，我经常会怀念过去无形装逼放浪不羁的我。朋友圈慢慢屏蔽了几十个人，今天突然之间想全部都解除屏蔽了，想想也挺有趣，没有这些人的每天鸡汤、软文、自拍，那朋友圈还有什么意思，如果生活不用来装逼，那还有什么意义？</p>
<p>都是需要诗和远方的人，当然可能需要的还有money。从沉迷于空虚之中，彷徨于温饱之际，到房产两三套，资产过千万的城市小资产阶级，他们理解这个世界在发生什么，然而却并不关心身边的人，他们自私而苦闷，幸福而纠结，安然而焦虑，在单位有一官半职，在社会上有一定地位，这是被时间和岁月吞噬的一类人，尚未发光却即将熄灭，尚未年轻却迅速老去，而我们，却都在希望变成这一类人!</p>
<p>很难不忧伤，尽管忧伤，是生活的一部分！</p>
<hr>
<p>如有任何疑问或问题请联系我:fishnewsdream@gmail.com,欢迎交流，共同提高！</p>
<p>Objective-C/Swift技术开发交流群201556264，讨论何种技术并不受限，欢迎各位大牛百家争鸣！</p>
<p><a href="http://www.ggteach.com/index.html" target="_blank" rel="external">刚刚在线工作室</a>，欢迎关注或提出建设性意见！</p>
<p><a href="http://bbs.ggteach.com" target="_blank" rel="external">刚刚在线论坛</a>, 欢迎踊跃提问或解答！</p>
<p>如有转载，请注明出处，谢谢！</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/拖延症/">拖延症</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/随笔/">随笔</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Xcode无证书无数据线调试" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/10/13/Xcode无证书无数据线调试/" class="article-date">
  	<time datetime="2017-10-12T16:00:00.000Z" itemprop="datePublished">2017-10-13</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/10/13/Xcode无证书无数据线调试/">Xcode免证书免数据线调试</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="http://music.163.com/outchain/player?type=2&id=406072372&auto=0&height=66"></iframe>

<h5 id="u4E00-__u514D_u8BC1_u4E66"><a href="#u4E00-__u514D_u8BC1_u4E66" class="headerlink" title="一. 免证书"></a>一. 免证书</h5><p>Xcode7之后，开发者调试终于可以不需要证书了，之前越狱后免除证书不算在内</p>
<p><img src="http://7xqjid.com1.z0.glb.clouddn.com/2017.10.13_07.gif" alt=""></p>
<ul>
<li>步骤如上图所示</li>
<li>注意，Bundle Inentifier最好使用之前没用过的，否则可能不成功</li>
<li>上图步骤之后，钥匙串中已经自动生成了一个供本机使用的调试证书</li>
<li>如果App ID已经是开发者账号或者属于某个已付费的账号组里，会给该账号自动生成一个证书，可登陆苹果开发者中心查看。勾选Automatically manage signing后会自动生成Provisioning Prifile描述文件,当然可能会生成失败，会提示更换Bundle Identifier。如果该账号不是开发者账号，则仅会在本机生成一个可供调试的证书</li>
<li>如果有多个工程需要调试，调试时可修改Bundle Identifier为同一个值，否则可能会对频繁更改Bundle Identifier的App Id进行限制。</li>
<li>运行后依然会报错，会提示需要打开手机设置-&gt;通用-&gt;描述文件与设备管理中添加信任</li>
</ul>
<h5 id="u4E8C-_u514D_u6570_u636E_u7EBF"><a href="#u4E8C-_u514D_u6570_u636E_u7EBF" class="headerlink" title="二.免数据线"></a>二.免数据线</h5><p>Xcode9之后，终于可以免数据线调试了。这里说的免数据线并非完全脱离数据线，而是第一次使用数据线启动之后才可以脱离使用</p>
<p><img src="http://7xqjid.com1.z0.glb.clouddn.com/2017.10.13_08.gif" alt=""></p>
<ul>
<li>步骤如上图所示，注意勾选Connect via network,即通过网络连接</li>
<li>注意，手机系统要求iOS11及以上</li>
<li>第一次启动需要连接数据线，并且手机和电脑需处于同一无线网环境下。第一次启动后，拔出数据线，这时候会发现设备依然连接着，选中运行即可</li>
<li>可以同时支持多台设备</li>
</ul>
<p>以上，即可实现免证书免数据线，平时方便自己调试，还随时可以给测试人员安装开发包临时测试</p>
<hr>
<p>如有任何疑问或问题请联系我:fishnewsdream@gmail.com,欢迎交流，共同提高！</p>
<p>Objective-C/Swift技术开发交流群201556264，讨论何种技术并不受限，欢迎各位大牛百家争鸣！</p>
<p><a href="http://www.ggteach.com/index.html" target="_blank" rel="external">刚刚在线工作室</a>，欢迎关注或提出建设性意见！</p>
<p><a href="http://bbs.ggteach.com" target="_blank" rel="external">刚刚在线论坛</a>, 欢迎踊跃提问或解答！</p>
<p>如有转载，请注明出处，谢谢！</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/免证书，免数据线/">免证书，免数据线</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/OC/">OC</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-六月" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/05/31/六月/" class="article-date">
  	<time datetime="2017-05-30T16:00:00.000Z" itemprop="datePublished">2017-05-31</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/05/31/六月/">六月</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="http://music.163.com/outchain/player?type=2&id=159401&auto=0&height=66"></iframe>



<p>又到六一了，去年的这个时候和老大请了半天假，陪伴另一个儿童。今年那个儿童又长大了一岁，应该也不需要我再请假陪伴了。端午这三天假才刚准备进入状态就火速结束了(此处没有事后烟)，可怜那个儿童连着三天都上班，我也不能挥霍的太过分，简直了。</p>
<p>七年过去了，七年是什么概念，可能当时你身体都可以进入的人现在连朋友圈都进不了了。还有一周又要高考了，我记得那会最后一门英语考的时候外面乌黑一片，山雨欲来风满楼，仿佛是为了我考试灾难性的结果买下伏笔，根本无心静下来思考，虽然不知道填的啥但就觉得填的是对的，这想法也是没谁了，这也是整个高考期间的缩影。我记得第一天考试正是NBA总决赛湖人VS绿军的第七场，晚上我竟然丧心病狂的去网吧看了下比赛回放，这把我激动的，晚上觉都没睡好。事后想了下，这可能也是为了衬托我考试灾难性的后果，毕竟以乐景写哀更见其哀。这一年又一年过去了，每年都会想起，无法释怀，又怎么去释怀。多说有泪，不能再说了~</p>
<p><img src="http://7xqjid.com1.z0.glb.clouddn.com/2017_05_31_01.jpg" alt=""></p>
<p>现在又逢NBA总决赛及欧冠决赛了，借此预测一波，勇士4：1骑士 or 4：2夺冠，皇马1：0尤文 or 2：1夺冠，坐等被证实。现在我还记得13年那个夏天我预测好声音汪峰组张恒远夺冠，结果很明显。</p>
<p>都说爱笑的女生运气不会太差，而JJ长的男生，亦是如此，然而运气不错，但也架不住明目张胆的折腾。这几天中金某领导潜规则实习生，据说此人年薪千万，然而掩盖不了low穿地心的本质。今年互联网平均年薪据调查首次超过金融业位居榜首，为十二万多，值得恭喜一波，讲真，我也不知道有啥值得恭喜的。《欢乐颂》最近这么火，里面的应勤又给广大IT男招黑了，其实不觉得有什么问题考虑到应勤自身的状况。一开始我还以为给IT男洗白了呢，谁知道闹了这么一出，平心而论，应勤配得上邱莹莹，但是否配得上邱莹莹的爱，仁者见仁了。好在最后两人又和好了，感情中这事没道理可讲，还是应了那句话，你说要敬往事一杯酒，再爱也不回头，然而就算你醉到黄昏独自愁，如果那人伸出手，你还是会跟他走！</p>
<p>金三银四铜五过去了，铁六锡七铝八就要来了。这一晃17年快过一半了，这一天天过得，纸醉金迷，酒肉池林。想做点什么，应该做点什么。于我而言，六月份是个比较独特的月份。要是有的选，我愿意牺牲点什么，换回之前几年的六月份，重新来过的机会。事实是，没有机会！</p>
<p>不打扰，我似乎很难做到，然而我似乎又做到了。是否有人知道我在说什么，谁知道呢，会有人的！</p>
<hr>
<p>如有任何疑问或问题请联系我:fishnewsdream@gmail.com,欢迎交流，共同提高！</p>
<p>Objective-C/Swift技术开发交流群201556264，讨论何种技术并不受限，欢迎各位大牛百家争鸣！</p>
<p><a href="http://www.ggteach.com/index.html" target="_blank" rel="external">刚刚在线工作室</a>，欢迎关注或提出建设性意见！</p>
<p><a href="http://bbs.ggteach.com" target="_blank" rel="external">刚刚在线论坛</a>, 欢迎踊跃提问或解答！</p>
<p>如有转载，请注明出处，谢谢！</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/随笔/">随笔</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-2016" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/01/01/2016/" class="article-date">
  	<time datetime="2016-12-31T16:00:00.000Z" itemprop="datePublished">2017-01-01</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/01/01/2016/">2016</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="http://music.163.com/outchain/player?type=2&id=28240119&auto=0&height=66"></iframe>

<p>16年永久性的成为了过往！</p>
<p>一如既往，朋友圈充满了各种过去一年的总结汇报以及来年的心愿展望，什么新的一年要成功脱单、加薪升职、胸再大点腰再细点、JJ再长点个子再高点之类的，像我这种只阅不发的人简直是一股清流。也不知道是男票女票不好玩还是不好用，竟然还有力气还有时间发动态，真是难得。微信各种群都是些骚乱的人们，当然可能并不乱。红包发个不停，抢了半天不够再发一个出去的，真是蛋疼，现在基本都不抢了。但是有个群例外，爱得威技术部，是我喜欢的氛围，要么不发，要发就数额不菲，都自觉的轮着来。想想离职快两年了也没退群，基本是装死的状态，一直也心系爱得威。那是我职业生涯的第一站，对我之后的各种装逼也产生了深远影响。现在想来，当时老大给的各种排期都比较宽松充裕，而年轻人总是急于冒进，每次都强行装逼觉得分分钟可以搞定，几次意外发生后也就吸取教训了。后来又来个新人，又在走我之前的老路，总是眼高于顶，你说给一天时间他说一小时足矣，结果很明显，脸打得啪啪响。时至今日，我的做事风格也归咎于此，需要一天的时间我可能会要两天，无他，只因可能会面临各种意外，而且提前搞定了还皆大欢喜。当时学到的各种基础对我后来也都起了极大的帮助，现在我所掌握的几门语言也都是在那段时间学习的，虽然有的现在已经仅剩点概念了。那会还学了半年日语，以至于每次看岛国爱情动作片的时候我都会下意识的去拼写日语单词，并尝试去纠正语法和发音，也学到了些许，是的。那也是我至今为止最为上进的一段时间吧，早上坐地铁全是背日语单词和课文，而现在我早上坐地铁关注的全tm是谁又偷我能量了，谁的能量又可以偷了，我罗是否又进球了，我科是不是又有什么记录被破了，偶尔心情好的话还会关注下周围妹子的罩杯大小，定期锻炼下眼力，真是堕落！</p>
<p>这几天又被余太逼着做饭了，我内心是拒绝的。这种属于细水长流的活岂是一朝一夕之事，想我16年全年厨艺都进步寥寥，也不知何时能大成！在上海的这几年，是真切的感受到了上海女人在家里的话语权实在太大，严重带坏了那些来上海工作的妹子们。开始来上海时都是妹子，后来都成了汉子，这些人最大的毛病就是妄图改造自己的另一半，自己却拒绝被改造。感情中最难能可贵的是什么，从来不是那些，彼此送的手表和项链，甚至也不是那些甜蜜的短信和合照，甚至都不是毫无保留的付出，而是彼此留在对方身上的，如同河流留给山川的，那些你对我，造成的改变。付出并不难，改变才是！也不知道何时才能顿悟，依然任重道远啊。</p>
<p>16年年初定的几个目标基本都完成了一半,希望自己稳重些，的确是重了不少；希望一年存款30万，结果果然存了有3万大概；希望在技术上有更多积累，所以微信上收藏了少说也有几百篇从未打开过的技术文章。一切都进展的难以置信的顺利，也不知道17年是个什么鸟样！</p>
<p>但是生活，最重要的是开心！</p>
<hr>
<p>如有任何疑问或问题请联系我:fishnewsdream@gmail.com,欢迎交流，共同提高！</p>
<p>Objective-C/Swift技术开发交流群201556264，讨论何种技术并不受限，欢迎各位大牛百家争鸣！</p>
<p><a href="http://www.ggteach.com/index.html" target="_blank" rel="external">刚刚在线工作室</a>，欢迎关注或提出建设性意见！</p>
<p><a href="http://bbs.ggteach.com" target="_blank" rel="external">刚刚在线论坛</a>, 欢迎踊跃提问或解答！</p>
<p>如有转载，请注明出处，谢谢！</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/随笔/">随笔</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-追" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/09/18/追/" class="article-date">
  	<time datetime="2016-09-17T16:00:00.000Z" itemprop="datePublished">2016-09-18</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/18/追/">追</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="http://music.163.com/outchain/player?type=2&id=5023390&auto=0&height=66"></iframe>

<p>毕业前夕，我曾发出宏愿，走遍心中向往的风景，沿途拜访每一位江湖旧友，参加每一场好朋友的婚礼。可是去过很多地方，大多匆匆而过，旧友也早已消弭与江湖，没有参加的婚礼，也远比参加的要多。</p>
<p>我十分肯定想去的，却竟然始终也没有去。这几年变化的也不仅仅是心态，逐渐增多的赘肉和日益稀少的头发也都在见证着这一切。几年前一天动辄可以给予几次高潮的身体也一去不复返了，挺怀念的。毕竟一被子和谐才能一辈子和谐，这是刚需，做人不能太颓废，偶尔锻炼还是要有的。</p>
<p>这几天和余太从上海回来，走了下婚前流程。有些形式总是要走一遍的，毕竟人总是需要一种仪式感的。以前这些繁杂的流程，现在的年轻人基本都不甚了解，讲真，有点羞愧。谁知道会不会若干年后传到国外申请个文化遗产啥的，到时候再各种撕逼谁说的清呢。这些年在外上学家里这些娃都迫不及待的冒出来不少，这样一代代繁衍生息挺奇妙的，尽管很多时候初衷只是享受制造过程。想抱抱他们，到叔叔这里来，然而基本只给我留了一个背影。以前看中的妹子也不知道现在嫁到哪去了，曾经和我在学校并肩作战走南闯北的发小还是没有音信，如果你能看到，给家里报个平安吧。那些我熟悉的岁月印记越来越少了，然而一切依然进行着，他们也依然幸福的生活着。这么多年的学习后，似乎学到了很多，然而失去的也许更多，让我仿佛变成了一无所知的傻×，挺好的。</p>
<p>永乐的通知，一切都如预料般的猝不及防。我早没有那么放荡不羁了，然而你一如既往的不着调。上次来沪连做个啥保健的时间都没有，挺遗憾的。不过好在你的所在地也随时都可以。不过我还是劝你从良吧，尽管我知道的你一直都是优。昔日顶风尿三丈，如今顺风尿湿鞋，现在的年轻人还是要多注意，少年不知精子贵都是有历史教训的，下联我就不说了。讲真，坚持几年的感情实在不易，现在的女性都打着磨合的幌子渐渐的把男人磨平了，尤其是知识女性，女权思想太盛。看来书读得多也未必是好事。个人酸楚也就自己体验的最为真切了。婚姻怎么选都是错的，长久婚姻就是将错就错，修成正果这种事对男人来说尤其不易，毕竟会被要求太多，自行体会下。哥听到消息高兴的把旁边的雪花一饮而尽，算是隔空祝福了。</p>
<p>上段时间宝强的事霸屏很多天，讲真，看你们没事骂来骂去的挺没意思的。对一些没啥底线的人能动手就别吵吵。现在每天都在发生那么多的事，几乎每个事件下面的评论都是键盘侠的粗言秽语，妄图去骂醒别人的认知。一个成年人的认知基本无法改变，这种争论毫无意义，言论背后是多年生活方方面面的折射，岂会因为你一段话而改变。郎平在里约女排夺冠前一直被骂为叛徒，夺冠后各大媒体又各种跪舔将其捧上神坛。脸打的啪啪响，人至贱真是无敌。义愤填膺的是网民，冷漠无情的是路人，到底是网民不上街还是路人不上网，这种畸形网络文化也不知何时能终结，仿佛看不到曙光。</p>
<p>假期要结束了，这和余太还没来得及思念就又相见了，爽的飞起，这仿佛像是在尿裤子，很多人都能看到，但是只有自己才能体会到那种温暖。希望接下来的一段日子里我可以沉迷于工作无法自拔，其实内心是拒绝的。这段时间加的班比之前几年加的都多，仿佛看不到诗和远方，并且受到了从业以来仅有的能力质疑，酸爽！这种事情觉得只要说点啥基本都是在给自己找借口，还是默默承受比较好，毕竟也没人在意发生了啥。之前带的项目现在想来有些也是不应该，是否唯结果论并不重要，一切都要看人，没错，是看人。最重要的是，如果位置互换，未必会做的更好。但是这些谁会去在乎呢。工作是为了更好的生活，不应该本末倒置。我依然坚信，不能直接了当的判断一个人，信息量太大！</p>
<p>挺想到阳台上抽根烟的，考虑到安安宝贝还小，还是算了，我这一年抽一包的速度着实慢了点，谁让咱是三好青年呢。这中秋过的，以前小时候，嫦娥的故事根本听不下去，心里想着月饼，那个馋啊。而现在，月饼根本吃不下去，心里想着嫦娥，那个馋啊。成年人的世界也就剩想想了，放在心里，也许就成为了梦想！</p>
<p>讲真，感觉很是蛋疼！</p>
<hr>
<p>如有任何疑问或问题请联系我:fishnewsdream@gmail.com,欢迎交流，共同提高！</p>
<p>Objective-C/Swift技术开发交流群201556264，讨论何种技术并不受限，欢迎各位大牛百家争鸣！</p>
<p><a href="http://www.ggteach.com/index.html" target="_blank" rel="external">刚刚在线工作室</a>，欢迎关注或提出建设性意见！</p>
<p><a href="http://bbs.ggteach.com" target="_blank" rel="external">刚刚在线论坛</a>, 欢迎踊跃提问或解答！</p>
<p>如有转载，请注明出处，谢谢！</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/随笔/">随笔</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-控雨片段" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/07/24/控雨片段/" class="article-date">
  	<time datetime="2016-07-23T16:00:00.000Z" itemprop="datePublished">2016-07-24</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/24/控雨片段/">控雨片段</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="http://music.163.com/outchain/player?type=2&id=5023390&auto=0&height=66"></iframe>

<video width="498" height="510 " src="http://7xqjid.com1.z0.glb.clouddn.com/controlwater.mp4 " poster=" " controls="controls"><br><br></video>

<p><br></p>
<hr>
<p>如有任何疑问或问题请联系我:fishnewsdream@gmail.com,欢迎交流，共同提高！</p>
<p>Objective-C/Swift技术开发交流群201556264，讨论何种技术并不受限，欢迎各位大牛百家争鸣！</p>
<p><a href="http://www.ggteach.com/index.html" target="_blank" rel="external">刚刚在线工作室</a>，欢迎关注或提出建设性意见！</p>
<p><a href="http://bbs.ggteach.com" target="_blank" rel="external">刚刚在线论坛</a>, 欢迎踊跃提问或解答！</p>
<p>如有转载，请注明出处，谢谢！</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/随笔/">随笔</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/随笔/">随笔</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-逆向工程应用-竞品分析" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/05/26/逆向工程应用-竞品分析/" class="article-date">
  	<time datetime="2016-05-25T16:00:00.000Z" itemprop="datePublished">2016-05-26</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/26/逆向工程应用-竞品分析/">逆向工程应用-竞品分析</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><video width="498" height="510 " src="http://7xqjid.com1.z0.glb.clouddn.com/2016_04_14.mp4 " poster=" " controls="controls"><br></video><br><br></p>
<p>使用技术: 逆向工程，是一种产品设计技术再现的过程，即对一项目标产品进行逆向分析及研究，从而演绎并得出该产品的处理流程、组织结构、功能特性及技术规格等设计要素，其主要目的是在不能轻易获得必要的生产信息的情况下，直接从成品分析，推导出产品的设计原理。</p>
<p>分析对象: 某程、某龙</p>
<p>分析方法: 静态分析法，在不执行iOS应用的情形下，对应用进行静态分析的一种方法。比如获取应用的文件系统结构，本地文件的分析、使用反汇编工具（Disassembler，比如IDA）查看内部代码，分析代码结构也是静态分析。</p>
<ul>
<li><p>app bundle 分析</p>
</li>
<li><p>提取.h文件分析</p>
</li>
<li><p>提取可执行文件包含字符串分析</p>
</li>
<li><p>沙盒文件分析</p>
</li>
<li><p>页面结构分析</p>
</li>
</ul>
<h5 id="u524D_u671F_u51C6_u5907_3A"><a href="#u524D_u671F_u51C6_u5907_3A" class="headerlink" title="前期准备:"></a>前期准备:</h5><ul>
<li><ol>
<li>ituens上下载相关软件先， 打开ipa资源包，ipa文件其实就是个zip文件。</li>
</ol>
</li>
</ul>
<p><img src="http://7xqjid.com1.z0.glb.clouddn.com/2016_05_25_03.gif?attname=" alt=""><br><img src="http://7xqjid.com1.z0.glb.clouddn.com/2016_05_25_05.png?attname=" alt=""></p>
<blockquote>
<p>iTunesArtwork 用浏览器打开，是1024的app icon。</p>
<p>META-INF目录:存放签名信息</p>
<p>Payload(资源存放文件 )</p>
<ul>
<li>资源包中包含众多资源文件(图片、plist文件、Assets.car、本地化文件、签名相关文件(CodeResources、SC_Info)及其他资源文件)</li>
</ul>
</blockquote>
<p>iOS7后可使用Images.cxassets,打包后会生成Assets.car文件。可使用工具打开这个文件</p>
<p><a href="https://github.com/devcxm/iOS-Images-Extractor" target="_blank" rel="external">car文件解压工具</a>  </p>
<p>也可以直接下载 <a href="http://pan.baidu.com/s/1skHiHbv" target="_blank" rel="external">百度云下载地址</a></p>
<p><img src="http://7xqjid.com1.z0.glb.clouddn.com/2016_05_25_07.gif?attname=" alt=""></p>
<h6 id="u5E38_u89C1_u7684_u5BFC_u5165_u56FE_u7247_u7684_u51E0_u79CD_u65B9_u5F0F"><a href="#u5E38_u89C1_u7684_u5BFC_u5165_u56FE_u7247_u7684_u51E0_u79CD_u65B9_u5F0F" class="headerlink" title="常见的导入图片的几种方式"></a>常见的导入图片的几种方式</h6><blockquote>
<p> 加入到Assets.xcassets中</p>
<ul>
<li>只支持png格式的图片</li>
<li>图片只支持[UIImage imageNamed]的方式实例化，但是不能从Bundle中加载</li>
<li>在编译时，Images.xcassets中的所有文件会被打包为Assets.car的文件</li>
</ul>
<p>CreateGroup</p>
<ul>
<li>黄色文件夹图标；Xcode中分文件夹，Bundle中所有所在都在同一个文件夹下，因此，不能出现文件重名的情况</li>
<li>可以直接使用[NSBundle mainBundle]作为资源路径，效率高！</li>
<li>可以使用[UIImage imageNamed:]加载图像</li>
</ul>
<p>CreateFolderRefences</p>
<ul>
<li>蓝色文件夹；Xcode中分文件夹，Bundle中同样分文件夹，因此，可以出现文件重名的情况</li>
<li>需要在[NSBundle mainBundle]的基础上拼接实际的路径，效率较差</li>
<li>不能使用[UIImage imageNamed:]加载图</li>
</ul>
<p>PDFs矢量图（Xcode6+）</p>
<p>Bundle（包）中的图片素材</p>
</blockquote>
<p>在给ipa包瘦身的时候，可以使用图片压缩工具，通过无损或有损压缩的方式减小图片大小，还可以通过改变图片导入的方式给ipa包瘦身。携程、艺龙均有使用Images.xcassets。</p>
<p> CreateGroup、CreateFolderRefences两种方式打出来的包，图片都会直接放在.app文件中，所以打包前后，图片的大小不会改变，而加入到Assets.xcassets中的方法则不同，打包后，在.app中会生成Assets.car文件来存储Assets.xcassets中的图片，并且文件大小也大大降低。也可使用工具给图片压缩,比如 <a href="https://imageoptim.com/mac" target="_blank" rel="external">imageoptim</a>。</p>
<p>其他可以给ipa包瘦身的也有通过设置Bitcode、设置编译器优化级别、去除符号信息甚至修改方法名长度等。</p>
<blockquote>
<ol>
<li>通过逆向工程相关技术(class-dump-z)，拿到沙盒文件、.h文件集合等。</li>
</ol>
</blockquote>
<p><img src="http://7xqjid.com1.z0.glb.clouddn.com/2015_05_25_10.png?attname=" alt=""></p>
<p><img src="http://7xqjid.com1.z0.glb.clouddn.com/2016_05_25_11.gif?attname=" alt=""></p>
<h5 id="app_bundle__u5206_u6790"><a href="#app_bundle__u5206_u6790" class="headerlink" title="app bundle 分析"></a>app bundle 分析</h5><ul>
<li><p>某龙:</p>
<blockquote>
<p>有大量图片资源使用中文命名</p>
<p>部分图片包含了1倍图片，部分图片只有@2x图片，使用了Images.assets</p>
<p>文件中包含momd文件，使用了CoreData</p>
<p>Frameworks文件夹中没有包含Swift需要的库，没有使用Swift</p>
<p>JSPatch文件</p>
<p>Plist文件中统计页面及事件</p>
<p>全局搜索配置(CoreSpotlight.plist)</p>
<p>webp引导页(减小大小)</p>
<p>配置url跳转(xxxRoute.plist)</p>
</blockquote>
</li>
<li><p>某程:</p>
<blockquote>
<p>部分图片包含了1倍图片，部分图片只有@2x图片，使用了Images.assets</p>
<p>图片命名均以_分隔，形如<code>call\_ico\_conceal\_click@2x</code></p>
<p>项目中没有使用Swift </p>
<p>JSPatch文件</p>
<p>相关Plist文件中存储SQL语句</p>
<p>内置H5页面(webapp)</p>
<p>Plist文件配置相关电话</p>
<p>开发员工配置(BundleVersion.json)</p>
<p>配置工程依赖(crip.json)</p>
</blockquote>
</li>
</ul>
<h5 id="h_u6587_u4EF6_u5206_u6790"><a href="#h_u6587_u4EF6_u5206_u6790" class="headerlink" title=".h文件分析"></a>.h文件分析</h5><ul>
<li><p>某龙:</p>
<blockquote>
<p>部分Model文件以model结尾，类名没有统一加前缀</p>
<p>使用了Cocoapods</p>
<p><a href="https://github.com/carsonperrotti/CNPPopupController" target="_blank" rel="external">CNPPopupController</a></p>
<p><a href="https://github.com/nicklockwood/FXBlurView" target="_blank" rel="external">FXBlurView</a></p>
<p><a href="https://github.com/SnapKit/Masonry" target="_blank" rel="external">Masonry</a></p>
<p><a href="https://github.com/rs/SDWebImage" target="_blank" rel="external">SDWebImage</a></p>
<p><a href="https://github.com/TTTAttributedLabel/TTTAttributedLabel" target="_blank" rel="external">TTTAttributedLabel</a></p>
<p><a href="https://github.com/wezm/RegexKitLite" target="_blank" rel="external">RegexKitLite</a></p>
<p><a href="https://github.com/icanzilb/JSONModel" target="_blank" rel="external">JSONModel</a></p>
<p><a href="https://github.com/CoderMJLee/MJRefresh" target="_blank" rel="external">MJRefresh</a></p>
<p><a href="http://dev.umeng.com/analytics/ios-doc/integration?spm=0.0.0.0.FpEdKs#1_2" target="_blank" rel="external">UMeng</a></p>
<p><a href="http://lbsyun.baidu.com/index.php?title=iossdk/sdkiosdev-download" target="_blank" rel="external">BaiduMap</a></p>
<p><a href="https://github.com/steipete/Aspects" target="_blank" rel="external">Aspects</a></p>
<p><a href="https://github.com/ccgus/fmdb" target="_blank" rel="external">FMDB</a></p>
<p><a href="https://github.com/nicklockwood/FXLabel" target="_blank" rel="external">FXLabel</a></p>
<p><a href="https://github.com/mattconnolly/ZipArchive" target="_blank" rel="external">ZipArchive</a></p>
</blockquote>
</li>
<li><p>某程： </p>
<blockquote>
<p> Model文件命名以model结尾，类名没有统一加前缀</p>
<p>没有使用Cocoapods </p>
<p><a href="https://github.com/zwaldowski/BlocksKit" target="_blank" rel="external">BlocksKit</a></p>
<p><a href="https://github.com/ibireme/YYKit" target="_blank" rel="external">YYKit</a></p>
<p><a href="https://github.com/AFNetworking/AFNetworking" target="_blank" rel="external">AFNetworking(2.x)</a></p>
<p><a href="https://github.com/rs/SDWebImage" target="_blank" rel="external">SDWebImage</a></p>
<p><a href="https://github.com/ninjinkun/NJKWebViewProgress" target="_blank" rel="external">NJKWebViewProgress</a></p>
<p><a href="https://github.com/TTTAttributedLabel/TTTAttributedLabel" target="_blank" rel="external">TTTAttributedLabel</a></p>
<p><a href="https://github.com/gsdios/SDCycleScrollView" target="_blank" rel="external">SDCycleScrollView</a></p>
<p><a href="https://github.com/robbiehanson/XMPPFramework" target="_blank" rel="external">XMPP</a></p>
<p><a href="https://github.com/robbiehanson/KissXML" target="_blank" rel="external">KissXML</a></p>
<p><a href="https://github.com/enormego/EGOTableViewPullRefresh" target="_blank" rel="external">EGOTableViewPullRefresh</a></p>
<p><a href="/(https://github.com/SnapKit/Masonry">Masonry</a>)</p>
<p><a href="https://github.com/jdg/MBProgressHUD" target="_blank" rel="external">MBProgressHUD</a> </p>
<p><a href="https://github.com/MortimerGoro/MGSwipeTableCell" target="_blank" rel="external">MGSwipeTableCell</a></p>
<p><a href="https://github.com/mpospese/MPFoldTransition" target="_blank" rel="external">MPFoldTransition</a></p>
<p><a href="https://github.com/mattconnolly/ZipArchive" target="_blank" rel="external">ZipArchive</a></p>
</blockquote>
</li>
</ul>
<p><code>CNPPopupController</code></p>
<p>简单和通用的弹出控件</p>
<p><img src="http://7xqjid.com1.z0.glb.clouddn.com/2016_05_26_1.gif?attname=" alt=""></p>
<p><code>FXBlurView</code></p>
<p>实现背景模糊效果</p>
<ul>
<li>初始化UIView在UIImageView或者其他控件的上方，FXBlurView可以根据底层显示的状态生成模糊效果，并且可以动态，静态生成模糊效果。</li>
</ul>
<p><img src="http://7xqjid.com1.z0.glb.clouddn.com/2016_05_26_2.jpg?attname=" alt=""><br><img src="http://7xqjid.com1.z0.glb.clouddn.com/2016_05_26_3.jpg?attname=" alt=""></p>
<p><code>FXLabel</code></p>
<ul>
<li>FXLabel 改进了标准的 UILabel 组件，提供了文字的各种阴影效果和梯度填充。</li>
</ul>
<p><img src="http://7xqjid.com1.z0.glb.clouddn.com/2016_05_26_4.jpg?attname=" alt=""></p>
<p><code>BlocksKit</code></p>
<ul>
<li><p>BlocksKit 是一个开源的框架，对 Cocoa 进行了扩展，将许多需要通过 delegate 调用的方法转换成了 block。在很多情况下，blocks 比 delegate 要方便简单，因为 block 是紧凑的，可以使代码更简洁，提高代码可读性，另外 block 还可以进行异步处理。使用 block 要注意避免循环引用。</p>
<p>BlocksKit 的所有方法都以bk_开头，这样可以方便地列出所有 BlocksKit 的所有方法。最常用的是 UIKit Category，它为 UIAlertView，UIActionSheet，UIButton，UITapGestureRecognizer 等提供了 blocks。BlocksKit 主要目录结构</p>
<ul>
<li><p>Core：存放 Foundation 相关的 Block category，如 NSObject、NSTimer、NSarray、NSDictionary、NSSet、NSIndexSet、NSMutableArray等</p>
</li>
<li><p>DynamicDelegate：动态代理（消息转发机制）</p>
</li>
<li><p>UIKit：扩展了 UIAlertView，UIActionView，UIButton 等</p>
</li>
</ul>
</li>
</ul>
<p>主要功能有下面三个方面：</p>
<ul>
<li><p>通过block传入事件处理函数</p>
</li>
<li><p>创建动态代理，传入block给想要实现的方法。</p>
</li>
<li><p>在很多基础的类上增加额外的方法。</p>
</li>
</ul>
<h5 id="u5E38_u89C1_u7528_u6CD5"><a href="#u5E38_u89C1_u7528_u6CD5" class="headerlink" title="常见用法"></a>常见用法</h5><p><img src="http://7xqjid.com1.z0.glb.clouddn.com/2016_05_26_6.png?attname=" alt=""></p>
<p><img src="http://7xqjid.com1.z0.glb.clouddn.com/2016_05_26_7.png?attname=" alt=""></p>
<h5 id="u539F_u7406_u5206_u6790_3A__u6D88_u606F_u8F6C_u53D1_u673A_u5236"><a href="#u539F_u7406_u5206_u6790_3A__u6D88_u606F_u8F6C_u53D1_u673A_u5236" class="headerlink" title="原理分析: 消息转发机制"></a>原理分析: 消息转发机制</h5><ul>
<li><p>当一个对象收到它没实现的消息的时候，通常会发生如下的情况。</p>
<blockquote>
<ol>
<li>调用+(BOOL)resolveInstanceMethod:(SEL)aSEL，如果对象在这里动态添加了selector 的实现方法，则消息转发结束，否则执行步骤2</li>
<li>调用 - (id)forwardingTargetForSelector:(SEL)aSelector，在这里你可以将消息转发给其他对象，如果实现则消息转发结束，否则执行步骤3</li>
<li>执行完整的消息转发机制，调用-(void)forwardInvocation:(NSInvocation *)invocation 在这一步，你可以修改消息的任何内容，包括目标（target），selector，参数。如果没有实现在这里还未实现转发则程序将抛出异常。</li>
</ol>
</blockquote>
</li>
</ul>
<p>BlocksKit 动态代理实现方式是最后一步，即-(void)forwardInvocation:(NSInvocation *)invocation，使得动态代理能够接受任意消息。</p>
<p>网上有两篇对BlocksKit源码的解析，看了觉得很受益匪浅。</p>
<p><a href="http://ios.jobbole.com/84719/" target="_blank" rel="external">BlocksKit源码解析一</a></p>
<p><a href="http://ios.jobbole.com/84718/" target="_blank" rel="external">BlocksKit源码解析二</a></p>
<p><code>NJKWebViewProgress</code></p>
<p>Webview进度条控件</p>
<p><img src="http://7xqjid.com1.z0.glb.clouddn.com/2016_05_26_11.png?attname=" alt=""></p>
<p><code>SDCycleScrollView</code></p>
<p><img src="http://7xqjid.com1.z0.glb.clouddn.com/2016_05_26_12.png?attname=" alt=""></p>
<p><img src="http://7xqjid.com1.z0.glb.clouddn.com/2016_05_26_13.png?attname=" alt=""></p>
<p><img src="http://7xqjid.com1.z0.glb.clouddn.com/2016_05_26_14.gif?attname=" alt=""></p>
<p><code>KissXML</code></p>
<p>解析xml数据</p>
<p><img src="http://7xqjid.com1.z0.glb.clouddn.com/2016_05_26_15.png?attname=" alt=""></p>
<p><img src="http://7xqjid.com1.z0.glb.clouddn.com/2016_05_26_16.png?attname=" alt=""></p>
<p><code>MGSwipeTableCell</code></p>
<p>侧滑UITableViewCell展示多个可操作按钮</p>
<p><img src="http://7xqjid.com1.z0.glb.clouddn.com/2016_05_26_17.gif?attname=" alt=""></p>
<p><img src="http://7xqjid.com1.z0.glb.clouddn.com/2016_05_26_19.png?attname=" alt=""></p>
<p><code>MPFoldTransition</code></p>
<p>一个实现多种视图切换效果的库。</p>
<p><img src="http://7xqjid.com1.z0.glb.clouddn.com/2016_05_26_20.gif?attname=" alt=""></p>
<h5 id="u9875_u9762_u7ED3_u6784_u5206_u6790"><a href="#u9875_u9762_u7ED3_u6784_u5206_u6790" class="headerlink" title="页面结构分析"></a>页面结构分析</h5><p>越狱设备可使用Reveal查看任意App的UI页面。 </p>
<p>官网下载地址: <a href="http://revealapp.com" target="_blank" rel="external">http://revealapp.com</a> </p>
<hr>
<p>如有任何疑问或问题请联系我:fishnewsdream@gmail.com,欢迎交流，共同提高！</p>
<p>Objective-C/Swift技术开发交流群201556264，讨论何种技术并不受限，欢迎各位大牛百家争鸣！</p>
<p><a href="http://www.ggteach.com/index.html" target="_blank" rel="external">刚刚在线工作室</a>，欢迎关注或提出建设性意见！</p>
<p><a href="http://bbs.ggteach.com" target="_blank" rel="external">刚刚在线论坛</a>, 欢迎踊跃提问或解答！</p>
<p>如有转载，请注明出处，谢谢！</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/逆向工程/">逆向工程</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/进阶/">进阶</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2017 含笑饮砒霜
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
<span id="busuanzi_container_site_pv">
    本站总访问量<span id="busuanzi_value_site_pv"></span>次
</span>
<span id="busuanzi_container_page_pv">
  本文总阅读量<span id="busuanzi_value_page_pv"></span>次
</span>
</footer>

    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js" type="text/javascript"></script>
<script src="/js/main.js" type="text/javascript"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>